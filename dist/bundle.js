/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={382:function(t,e,n){!function(t,e,n,s){"use strict";var i=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},r=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},o=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var s=n.startTime,i=n.target,r=n.timeConstant;return i+(e-i)*Math.exp((s-t)/r)},c=function(t){return"exponentialRampToValue"===t.type},u=function(t){return"linearRampToValue"===t.type},h=function(t){return c(t)||u(t)},d=function(t){return"setValue"===t.type},p=function(t){return"setValueCurve"===t.type},f=function t(e,n,s,i){var r=e[n];return void 0===r?i:h(r)||d(r)?r.value:p(r)?r.values[r.values.length-1]:l(s,t(e,n-1,r.startTime,i),r)},m=function(t,e,n,s,i){return void 0===n?[s.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,i)]},g=function(t){return"cancelAndHold"===t.type},_=function(t){return"cancelScheduledValues"===t.type},v=function(t){return g(t)||_(t)?t.cancelTime:c(t)||u(t)?t.endTime:t.startTime},y=function(t,e,n,s){var i=s.endTime,r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(i-e)):0},b=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},w=function(t,e){var n=e.duration,s=e.startTime,i=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(i,(t-s)/n*(i.length-1))},x=function(t){return"setTarget"===t.type},k=function(t){function k(t){n(this,k),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return s(k,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=v(t);if(g(t)||_(t)){var n=this._automationEvents.findIndex((function(n){return _(t)&&p(n)?n.startTime+n.duration>=e:v(n)>=e})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&h(s)){if(void 0!==l&&x(l))throw new Error("The internal list is malformed.");var d=void 0===l?s.insertTime:p(l)?l.startTime+l.duration:v(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=c(s)?y(e,d,f,s):b(e,d,f,s),w=c(s)?i(m,e,this._currenTime):r(m,e,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&x(l)&&this._automationEvents.push(o(this.getValue(e),e)),void 0!==l&&p(l)&&l.startTime+l.duration>e){var k=e-l.startTime,S=(l.values.length-1)/l.duration,T=Math.max(2,1+Math.ceil(k*S)),C=k/(T-1)*S,E=l.values.slice(0,T);if(C<1)for(var A=1;A<T;A+=1){var O=C*A%1;E[A]=l.values[A-1]*(1-O)+l.values[A]*O}this._automationEvents[this._automationEvents.length-1]=a(E,l.startTime,k)}}}else{var D=this._automationEvents.findIndex((function(t){return v(t)>e})),M=-1===D?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[D-1];if(void 0!==M&&p(M)&&v(M)+M.duration>e)return!1;var R=c(t)?i(t.value,t.endTime,this._currenTime):u(t)?r(t.value,e,this._currenTime):t;if(-1===D)this._automationEvents.push(R);else{if(p(t)&&e+t.duration>v(this._automationEvents[D]))return!1;this._automationEvents.splice(D,0,R)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return v(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];x(s)&&n.unshift(o(f(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return v(e)>t})),s=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,r=this._automationEvents[i];if(void 0!==r&&x(r)&&(void 0===s||!h(s)||s.insertTime>t))return l(t,f(this._automationEvents,i-1,r.startTime,this._defaultValue),r);if(void 0!==r&&d(r)&&(void 0===s||!h(s)))return r.value;if(void 0!==r&&p(r)&&(void 0===s||!h(s)||r.startTime+r.duration>t))return t<r.startTime+r.duration?w(t,r):r.values[r.values.length-1];if(void 0!==r&&h(r)&&(void 0===s||!h(s)))return r.value;if(void 0!==s&&c(s)){var o=m(this._automationEvents,i,r,s,this._defaultValue),a=e(o,2),g=a[0],_=a[1];return y(t,g,_,s)}if(void 0!==s&&u(s)){var k=m(this._automationEvents,i,r,s,this._defaultValue),S=e(k,2),T=S[0],C=S[1];return b(t,T,C,s)}return this._defaultValue}}]),k}(Symbol.iterator);t.AutomationEventList=k,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=o,t.createSetValueCurveAutomationEvent=a}(e,n(424),n(690),n(728))},996:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var s=n(81),i=n.n(s),r=n(645),o=n.n(r),a=n(694),l=o()(i());l.i(a.Z),l.push([t.id,'/*\n! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com\n*/\n\n/*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: \'\';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user\'s configured `sans` font-family by default.\n5. Use the user\'s configured `sans` font-feature-settings by default.\n6. Use the user\'s configured `sans` font-variation-settings by default.\n*/\n\nhtml {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user\'s configured `mono` font family by default.\n2. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\n[type=\'button\'],\n[type=\'reset\'],\n[type=\'submit\'] {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type=\'search\'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\n\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user\'s configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role="button"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don\'t get the pointer cursor.\n*/\n\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n\n[hidden] {\n  display: none;\n}\n\n*, ::before, ::after{\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n\n::backdrop{\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n.fixed{\n  position: fixed;\n}\n.left-0{\n  left: 0px;\n}\n.top-0{\n  top: 0px;\n}\n.mb-4{\n  margin-bottom: 1rem;\n}\n.mb-6{\n  margin-bottom: 1.5rem;\n}\n.ml-2{\n  margin-left: 0.5rem;\n}\n.ml-3{\n  margin-left: 0.75rem;\n}\n.ml-64{\n  margin-left: 16rem;\n}\n.mr-4{\n  margin-right: 1rem;\n}\n.mt-1{\n  margin-top: 0.25rem;\n}\n.flex{\n  display: flex;\n}\n.h-screen{\n  height: 100vh;\n}\n.w-64{\n  width: 16rem;\n}\n.flex-1{\n  flex: 1 1 0%;\n}\n.items-center{\n  align-items: center;\n}\n.justify-center{\n  justify-content: center;\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]){\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.rounded{\n  border-radius: 0.25rem;\n}\n.border-2{\n  border-width: 2px;\n}\n.border-sec{\n  border-color: var(--secondary-color);\n}\n.border-transparent{\n  border-color: transparent;\n}\n.bg-dark{\n  background-color: var(--main-background-color);\n}\n.bg-sec{\n  background-color: var(--secondary-color);\n}\n.bg-ter{\n  background-color: var(--tertiary-color);\n}\n.px-3{\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4{\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.py-1{\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-2{\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-4{\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.pl-1{\n  padding-left: 0.25rem;\n}\n.pl-2{\n  padding-left: 0.5rem;\n}\n.pr-6{\n  padding-right: 1.5rem;\n}\n.text-center{\n  text-align: center;\n}\n.text-2xl{\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-9xl{\n  font-size: 8rem;\n  line-height: 1;\n}\n.text-base{\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.font-bold{\n  font-weight: 700;\n}\n.text-main{\n  color: var(--main-color);\n}\n.text-sec{\n  color: var(--secondary-color);\n}\n.text-ter{\n  color: var(--tertiary-color);\n}\n.outline-none{\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.filter{\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.hover\\:border-sec:hover{\n  border-color: var(--secondary-color);\n}\n.hover\\:bg-sec:hover{\n  background-color: var(--secondary-color);\n}\n.hover\\:bg-ter:hover{\n  background-color: var(--tertiary-color);\n}\n.hover\\:text-sec:hover{\n  color: var(--secondary-color);\n}\n.hover\\:text-ter:hover{\n  color: var(--tertiary-color);\n}\n',""]);const c=l},694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var s=n(81),i=n.n(s),r=n(645),o=n.n(r)()(i());o.push([t.id,":root {\n    --main-color: #F6BE9A;\n    --secondary-color: #FAF4D3;\n    --tertiary-color: #004643;\n    --main-background-color: #0C1618;\n }\n\n .toggle {\n  display: inline-block;\n  position: relative;\n  height: 100px;\n  width: 100px;\n}\n\n.toggle:before {\n  box-shadow: 0;\n  border-radius: 84.5px;\n  background: var(--primary-color);\n  position: absolute;\n  margin-left: -36px;\n  margin-top: -36px;\n  opacity: 0.2;\n  height: 72px;\n  width: 72px;\n  left: 50%;\n  top: 50%;\n}\n\n.toggle .button {\n  /* ... (rest of the properties remain the same) ... */\n  background: var(--secondary-color);\n}\n\n.toggle .label {\n  /* ... (rest of the properties remain the same) ... */\n  color: rgba(0, 0, 0, 0.9); /* Adjust if you have a specific variable for text color */\n}\n\n/* ... (rest of the CSS remains the same) ... */\n",""]);const a=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);s&&o[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(t){s[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var r,o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))n.call(r,c)&&(a[c]=r[c]);if(e){o=e(r);for(var u=0;u<o.length;u++)s.call(r,o[u])&&(a[o[u]]=r[o[u]])}}return a}},448:(t,e,n)=>{"use strict";var s=n(294),i=n(418),r=n(840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!s)throw Error(o(227));var a=new Set,l={};function c(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(l[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(t,e,n,s,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){_[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];_[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){_[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){_[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){_[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){_[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){_[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){_[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){_[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,s){var i=_.hasOwnProperty(e)?_[e]:null;(null!==i?0===i.type:!s&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,s){if(null==e||function(t,e,n,s){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,s)&&(n=null),s||null===i?function(t){return!!p.call(m,t)||!p.call(f,t)&&(d.test(t)?m[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,s=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);_[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);_[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);_[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){_[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){_[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,S=60107,T=60108,C=60114,E=60109,A=60110,O=60112,D=60113,M=60120,R=60115,N=60116,F=60121,I=60128,P=60129,q=60130,V=60131;if("function"==typeof Symbol&&Symbol.for){var L=Symbol.for;x=L("react.element"),k=L("react.portal"),S=L("react.fragment"),T=L("react.strict_mode"),C=L("react.profiler"),E=L("react.provider"),A=L("react.context"),O=L("react.forward_ref"),D=L("react.suspense"),M=L("react.suspense_list"),R=L("react.memo"),N=L("react.lazy"),F=L("react.block"),L("react.scope"),I=L("react.opaque.id"),P=L("react.debug_trace_mode"),q=L("react.offscreen"),V=L("react.legacy_hidden")}var z,j="function"==typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=j&&t[j]||t["@@iterator"])?t:null}function W(t){if(void 0===z)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);z=e&&e[1]||""}return"\n"+z+t}var U=!1;function G(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var s=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){s=t}t.call(e.prototype)}else{try{throw Error()}catch(t){s=t}t()}}catch(t){if(t&&s&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),r=s.stack.split("\n"),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==r[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?W(t):""}function Q(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return G(t.type,!1);case 11:return G(t.type.render,!1);case 22:return G(t.type._render,!1);case 1:return G(t.type,!0);default:return""}}function $(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case R:return $(t.type);case F:return $(t._render);case N:e=t._payload,t=t._init;try{return $(t(e))}catch(t){}}return null}function H(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){s=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Y(t)?t.checked?"true":"false":t.value),(t=s)!==n&&(e.setValue(t),!0)}function K(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=H(e.value),s=e.type;if(null!=n)"number"===s?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function st(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function rt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return s.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ot(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(s&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ct(t,e){var n=H(e.value),s=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=s&&(t.defaultValue=""+s)}function ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ft,mt,gt=(mt=function(t,e){if(t.namespaceURI!==ht.svg||"innerHTML"in t)t.innerHTML=e;else{for((ft=ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function _t(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||vt.hasOwnProperty(t)&&vt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=bt(n,e[n],s);"float"===n&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}Object.keys(vt).forEach((function(t){yt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vt[e]=vt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,Et=null,At=null;function Ot(t){if(t=ni(t)){if("function"!=typeof Ct)throw Error(o(280));var e=t.stateNode;e&&(e=ii(e),Ct(t.stateNode,t.type,e))}}function Dt(t){Et?At?At.push(t):At=[t]:Et=t}function Mt(){if(Et){var t=Et,e=At;if(At=Et=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(t,e){return t(e)}function Nt(t,e,n,s,i){return t(e,n,s,i)}function Ft(){}var It=Rt,Pt=!1,qt=!1;function Vt(){null===Et&&null===At||(Ft(),Mt())}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var s=ii(n);if(null===s)return null;n=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var zt=!1;if(h)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(mt){zt=!1}function Bt(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Wt=!1,Ut=null,Gt=!1,Qt=null,$t={onError:function(t){Wt=!0,Ut=t}};function Ht(t,e,n,s,i,r,o,a,l){Wt=!1,Ut=null,Bt.apply($t,arguments)}function Yt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Xt(t){if(Yt(t)!==t)throw Error(o(188))}function Kt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Yt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(s=i.return)){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Xt(i),t;if(r===s)return Xt(i),e;r=r.sibling}throw Error(o(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Jt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,se,ie=!1,re=[],oe=null,ae=null,le=null,ce=new Map,ue=new Map,he=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,s,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[s]}}function fe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ue.delete(e.pointerId)}}function me(t,e,n,s,i,r){return null===t||t.nativeEvent!==r?(t=pe(e,n,s,i,r),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=ei(t.target);if(null!==e){var n=Yt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void se(t.lanePriority,(function(){r.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function _e(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function ve(t,e,n){_e(t)&&n.delete(e)}function ye(){for(ie=!1;0<re.length;){var t=re[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&re.shift()}null!==oe&&_e(oe)&&(oe=null),null!==ae&&_e(ae)&&(ae=null),null!==le&&_e(le)&&(le=null),ce.forEach(ve),ue.forEach(ve)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ye)))}function we(t){function e(e){return be(e,t)}if(0<re.length){be(re[0],t);for(var n=1;n<re.length;n++){var s=re[n];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==le&&be(le,t),ce.forEach(e),ue.forEach(e),n=0;n<he.length;n++)(s=he[n]).blockedOn===t&&(s.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ge(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Se={},Te={};function Ce(t){if(Se[t])return Se[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Ee=Ce("animationend"),Ae=Ce("animationiteration"),Oe=Ce("animationstart"),De=Ce("transitionend"),Me=new Map,Re=new Map,Ne=["abort","abort",Ee,"animationEnd",Ae,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",De,"transitionEnd","waiting","waiting"];function Fe(t,e){for(var n=0;n<t.length;n+=2){var s=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(s,e),Me.set(s,i),c(i,[s])}}(0,r.unstable_now)();var Ie=8;function Pe(t){if(0!=(1&t))return Ie=15,1;if(0!=(2&t))return Ie=14,2;if(0!=(4&t))return Ie=13,4;var e=24&t;return 0!==e?(Ie=12,e):0!=(32&t)?(Ie=11,32):0!=(e=192&t)?(Ie=10,e):0!=(256&t)?(Ie=9,256):0!=(e=3584&t)?(Ie=8,e):0!=(4096&t)?(Ie=7,4096):0!=(e=4186112&t)?(Ie=6,e):0!=(e=62914560&t)?(Ie=5,e):67108864&t?(Ie=4,67108864):0!=(134217728&t)?(Ie=3,134217728):0!=(e=805306368&t)?(Ie=2,e):0!=(1073741824&t)?(Ie=1,1073741824):(Ie=8,t)}function qe(t,e){var n=t.pendingLanes;if(0===n)return Ie=0;var s=0,i=0,r=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(0!==r)s=r,i=Ie=15;else if(0!=(r=134217727&n)){var l=r&~o;0!==l?(s=Pe(l),i=Ie):0!=(a&=r)&&(s=Pe(a),i=Ie)}else 0!=(r=n&~o)?(s=Pe(r),i=Ie):0!==a&&(s=Pe(a),i=Ie);if(0===s)return 0;if(s=n&((0>(s=31-We(s))?0:1<<s)<<1)-1,0!==e&&e!==s&&0==(e&o)){if(Pe(e),i<=Ie)return e;Ie=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)i=1<<(n=31-We(e)),s|=t[n],e&=~i;return s}function Ve(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Le(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=ze(24&~e))?Le(10,e):t;case 10:return 0===(t=ze(192&~e))?Le(8,e):t;case 8:return 0===(t=ze(3584&~e))&&0===(t=ze(4186112&~e))&&(t=512),t;case 2:return 0===(e=ze(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function ze(t){return t&-t}function je(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Be(t,e,n){t.pendingLanes|=e;var s=e-1;t.suspendedLanes&=s,t.pingedLanes&=s,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ue(t)/Ge|0)|0},Ue=Math.log,Ge=Math.LN2,Qe=r.unstable_UserBlockingPriority,$e=r.unstable_runWithPriority,He=!0;function Ye(t,e,n,s){Pt||Ft();var i=Xe,r=Pt;Pt=!0;try{Nt(i,t,e,n,s)}finally{(Pt=r)||Vt()}}function Ze(t,e,n,s){$e(Qe,Xe.bind(null,t,e,n,s))}function Xe(t,e,n,s){var i;if(He)if((i=0==(4&e))&&0<re.length&&-1<de.indexOf(t))t=pe(null,t,e,n,s),re.push(t);else{var r=Ke(t,e,n,s);if(null===r)i&&fe(t,s);else{if(i){if(-1<de.indexOf(t))return t=pe(r,t,e,n,s),void re.push(t);if(function(t,e,n,s,i){switch(e){case"focusin":return oe=me(oe,t,e,n,s,i),!0;case"dragenter":return ae=me(ae,t,e,n,s,i),!0;case"mouseover":return le=me(le,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return ce.set(r,me(ce.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,ue.set(r,me(ue.get(r)||null,t,e,n,s,i)),!0}return!1}(r,t,e,n,s))return;fe(t,s)}Fs(t,e,s,null,n)}}}function Ke(t,e,n,s){var i=Tt(s);if(null!==(i=ei(i))){var r=Yt(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=Zt(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Fs(t,e,s,i,n),null}var Je=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,s=n.length,i="value"in Je?Je.value:Je.textContent,r=i.length;for(t=0;t<s&&n[t]===i[t];t++);var o=s-t;for(e=1;e<=o&&n[s-e]===i[r-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function sn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function an(t){function e(e,n,s,i,r){for(var o in this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),pn=i({},hn,{view:0,detail:0}),fn=an(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(ln=t.screenX-un.screenX,cn=t.screenY-un.screenY):cn=ln=0,un=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),gn=an(mn),_n=an(i({},mn,{dataTransfer:0})),vn=an(i({},pn,{relatedTarget:0})),yn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=an(bn),xn=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Tn[t])&&!!e[t]}function En(){return Cn}var An=i({},pn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=sn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?sn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?sn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),On=an(An),Dn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=an(Nn),In=[9,13,27,32],Pn=h&&"CompositionEvent"in window,qn=null;h&&"documentMode"in document&&(qn=document.documentMode);var Vn=h&&"TextEvent"in window&&!qn,Ln=h&&(!Pn||qn&&8<qn&&11>=qn),zn=String.fromCharCode(32),jn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gn[t.type]:"textarea"===e}function $n(t,e,n,s){Dt(s),0<(e=Ps(e,"onChange")).length&&(n=new dn("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Hn=null,Yn=null;function Zn(t){As(t,0)}function Xn(t){if(X(si(t)))return t}function Kn(t,e){if("change"===t)return e}var Jn=!1;if(h){var ts;if(h){var es="oninput"in document;if(!es){var ns=document.createElement("div");ns.setAttribute("oninput","return;"),es="function"==typeof ns.oninput}ts=es}else ts=!1;Jn=ts&&(!document.documentMode||9<document.documentMode)}function ss(){Hn&&(Hn.detachEvent("onpropertychange",is),Yn=Hn=null)}function is(t){if("value"===t.propertyName&&Xn(Yn)){var e=[];if($n(e,Yn,t,Tt(t)),t=Zn,Pt)t(e);else{Pt=!0;try{Rt(t,e)}finally{Pt=!1,Vt()}}}}function rs(t,e,n){"focusin"===t?(ss(),Yn=n,(Hn=e).attachEvent("onpropertychange",is)):"focusout"===t&&ss()}function os(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Yn)}function as(t,e){if("click"===t)return Xn(e)}function ls(t,e){if("input"===t||"change"===t)return Xn(e)}var cs="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},us=Object.prototype.hasOwnProperty;function hs(t,e){if(cs(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++)if(!us.call(e,n[s])||!cs(t[n[s]],e[n[s]]))return!1;return!0}function ds(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ps(t,e){var n,s=ds(t);for(t=0;s;){if(3===s.nodeType){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ds(s)}}function fs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ms(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function gs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var _s=h&&"documentMode"in document&&11>=document.documentMode,vs=null,ys=null,bs=null,ws=!1;function xs(t,e,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ws||null==vs||vs!==K(s)||(s="selectionStart"in(s=vs)&&gs(s)?{start:s.selectionStart,end:s.selectionEnd}:{anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},bs&&hs(bs,s)||(bs=s,0<(s=Ps(ys,"onSelect")).length&&(e=new dn("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=vs)))}Fe("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Fe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Fe(Ne,2);for(var ks="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ss=0;Ss<ks.length;Ss++)Re.set(ks[Ss],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Es(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,s,i,r,a,l,c){if(Ht.apply(this,arguments),Wt){if(!Wt)throw Error(o(198));var u=Ut;Wt=!1,Ut=null,Gt||(Gt=!0,Qt=u)}}(s,e,void 0,t),t.currentTarget=null}function As(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;t:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break t;Es(i,a,c),r=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break t;Es(i,a,c),r=l}}}if(Gt)throw t=Qt,Gt=!1,Qt=null,t}function Os(t,e){var n=ri(e),s=t+"__bubble";n.has(s)||(Ns(e,t,2,!1),n.add(s))}var Ds="_reactListening"+Math.random().toString(36).slice(2);function Ms(t){t[Ds]||(t[Ds]=!0,a.forEach((function(e){Cs.has(e)||Rs(e,!1,t,null),Rs(e,!0,t,null)})))}function Rs(t,e,n,s){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===t&&9!==n.nodeType&&(r=n.ownerDocument),null!==s&&!e&&Cs.has(t)){if("scroll"!==t)return;i|=2,r=s}var o=ri(r),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Ns(r,t,i,e),o.add(a))}function Ns(t,e,n,s){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ye;break;case 1:i=Ze;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!zt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),s?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fs(t,e,n,s,i){var r=s;if(0==(1&e)&&0==(2&e)&&null!==s)t:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ei(a)))return;if(5===(l=o.tag)||6===l){s=r=o;continue t}a=a.parentNode}}s=s.return}!function(t,e,n){if(qt)return t();qt=!0;try{return It(t,e,n)}finally{qt=!1,Vt()}}((function(){var s=r,i=Tt(n),o=[];t:{var a=Me.get(t);if(void 0!==a){var l=dn,c=t;switch(t){case"keypress":if(0===sn(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ee:case Ae:case Oe:l=yn;break;case De:l=Rn;break;case"scroll":l=fn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var u=0!=(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=s;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Lt(f,d))&&u.push(Is(f,m,p))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!ei(c)&&!c[Js])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?ei(c):null)&&(c!==(h=Yt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(u=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=Dn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:si(l),p=null==c?a:si(c),(a=new u(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,ei(i)===s&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,f=0,p=u=l;p;p=qs(p))f++;for(p=0,m=d;m;m=qs(m))p++;for(;0<f-p;)u=qs(u),f--;for(;0<p-f;)d=qs(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=qs(u),d=qs(d)}u=null}else u=null;null!==l&&Vs(o,a,l,u,!1),null!==c&&null!==h&&Vs(o,h,c,u,!0)}if("select"===(l=(a=s?si(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Kn;else if(Qn(a))if(Jn)g=ls;else{g=os;var _=rs}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=as);switch(g&&(g=g(t,s))?$n(o,g,n,i):(_&&_(t,a,s),"focusout"===t&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&it(a,"number",a.value)),_=s?si(s):window,t){case"focusin":(Qn(_)||"true"===_.contentEditable)&&(vs=_,ys=s,bs=null);break;case"focusout":bs=ys=vs=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,xs(o,n,i);break;case"selectionchange":if(_s)break;case"keydown":case"keyup":xs(o,n,i)}var v;if(Pn)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Un?Bn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(v=nn()):(tn="value"in(Je=i)?Je.value:Je.textContent,Un=!0)),0<(_=Ps(s,y)).length&&(y=new xn(y,t,null,n,i),o.push({event:y,listeners:_}),(v||null!==(v=Wn(n)))&&(y.data=v))),(v=Vn?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(jn=!0,zn);case"textInput":return(t=e.data)===zn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Pn&&Bn(t,e)?(t=nn(),en=tn=Je=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(s=Ps(s,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:s}),i.data=v)}As(o,e)}))}function Is(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ps(t,e){for(var n=e+"Capture",s=[];null!==t;){var i=t,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Lt(t,n))&&s.unshift(Is(t,r,i)),null!=(r=Lt(t,e))&&s.push(Is(t,r,i))),t=t.return}return s}function qs(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Vs(t,e,n,s,i){for(var r=e._reactName,o=[];null!==n&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Lt(n,r))&&o.unshift(Is(n,l,a)):i||null!=(l=Lt(n,r))&&o.push(Is(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}function Ls(){}var zs=null,js=null;function Bs(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ws(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Us="function"==typeof setTimeout?setTimeout:void 0,Gs="function"==typeof clearTimeout?clearTimeout:void 0;function Qs(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function $s(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Hs(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Ys=0,Zs=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Zs,Ks="__reactProps$"+Zs,Js="__reactContainer$"+Zs,ti="__reactEvents$"+Zs;function ei(t){var e=t[Xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Js]||n[Xs]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Hs(t);null!==t;){if(n=t[Xs])return n;t=Hs(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Xs]||t[Js])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function si(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function ii(t){return t[Ks]||null}function ri(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var oi=[],ai=-1;function li(t){return{current:t}}function ci(t){0>ai||(t.current=oi[ai],oi[ai]=null,ai--)}function ui(t,e){ai++,oi[ai]=t.current,t.current=e}var hi={},di=li(hi),pi=li(!1),fi=hi;function mi(t,e){var n=t.type.contextTypes;if(!n)return hi;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=e[i];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function gi(t){return null!=t.childContextTypes}function _i(){ci(pi),ci(di)}function vi(t,e,n){if(di.current!==hi)throw Error(o(168));ui(di,e),ui(pi,n)}function yi(t,e,n){var s=t.stateNode;if(t=e.childContextTypes,"function"!=typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(o(108,$(e)||"Unknown",r));return i({},n,s)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,fi=di.current,ui(di,t),ui(pi,pi.current),!0}function wi(t,e,n){var s=t.stateNode;if(!s)throw Error(o(169));n?(t=yi(t,e,fi),s.__reactInternalMemoizedMergedChildContext=t,ci(pi),ci(di),ui(di,t)):ci(pi),ui(pi,n)}var xi=null,ki=null,Si=r.unstable_runWithPriority,Ti=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,Ei=r.unstable_shouldYield,Ai=r.unstable_requestPaint,Oi=r.unstable_now,Di=r.unstable_getCurrentPriorityLevel,Mi=r.unstable_ImmediatePriority,Ri=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,Fi=r.unstable_LowPriority,Ii=r.unstable_IdlePriority,Pi={},qi=void 0!==Ai?Ai:function(){},Vi=null,Li=null,zi=!1,ji=Oi(),Bi=1e4>ji?Oi:function(){return Oi()-ji};function Wi(){switch(Di()){case Mi:return 99;case Ri:return 98;case Ni:return 97;case Fi:return 96;case Ii:return 95;default:throw Error(o(332))}}function Ui(t){switch(t){case 99:return Mi;case 98:return Ri;case 97:return Ni;case 96:return Fi;case 95:return Ii;default:throw Error(o(332))}}function Gi(t,e){return t=Ui(t),Si(t,e)}function Qi(t,e,n){return t=Ui(t),Ti(t,e,n)}function $i(){if(null!==Li){var t=Li;Li=null,Ci(t)}Hi()}function Hi(){if(!zi&&null!==Vi){zi=!0;var t=0;try{var e=Vi;Gi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(e){throw null!==Vi&&(Vi=Vi.slice(t+1)),Ti(Mi,$i),e}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Xi=li(null),Ki=null,Ji=null,tr=null;function er(){tr=Ji=Ki=null}function nr(t){var e=Xi.current;ci(Xi),t.type._context._currentValue=e}function sr(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function ir(t,e){Ki=t,tr=Ji=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Po=!0),t.firstContext=null)}function rr(t,e){if(tr!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(tr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ji){if(null===Ki)throw Error(o(308));Ji=e,Ki.dependencies={lanes:0,firstContext:e,responders:null}}else Ji=Ji.next=e;return t._currentValue}var or=!1;function ar(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function hr(t,e){var n=t.updateQueue,s=t.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?i=r=e:r=r.next=e}else i=r=e;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dr(t,e,n,s){var r=t.updateQueue;or=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var h=t.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==o){for(d=r.baseState,a=0,h=u=c=null;;){l=o.lane;var p=o.eventTime;if((s&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var f=t,m=o;switch(l=e,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,l);break t}d=f;break t;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,d,l):f))break t;d=i({},d,l);break t;case 2:or=!0}}null!==o.callback&&(t.flags|=32,null===(l=r.effects)?r.effects=[o]:l.push(o))}else p={eventTime:p,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,a|=l;if(null===(o=o.next)){if(null===(l=r.shared.pending))break;o=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===h&&(c=d),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,La|=a,t.lanes=a,t.memoizedState=d}}function pr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!=typeof i)throw Error(o(191,i));i.call(s)}}}var fr=(new s.Component).refs;function mr(t,e,n,s){n=null==(n=n(s,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var gr={isMounted:function(t){return!!(t=t._reactInternals)&&Yt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=ul(),i=hl(t),r=cr(s,i);r.payload=e,null!=n&&(r.callback=n),ur(t,r),dl(t,i,s)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=ul(),i=hl(t),r=cr(s,i);r.tag=1,r.payload=e,null!=n&&(r.callback=n),ur(t,r),dl(t,i,s)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),s=hl(t),i=cr(n,s);i.tag=2,null!=e&&(i.callback=e),ur(t,i),dl(t,s,n)}};function _r(t,e,n,s,i,r,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,r,o):!(e.prototype&&e.prototype.isPureReactComponent&&hs(n,s)&&hs(i,r))}function vr(t,e,n){var s=!1,i=hi,r=e.contextType;return"object"==typeof r&&null!==r?r=rr(r):(i=gi(e)?fi:di.current,r=(s=null!=(s=e.contextTypes))?mi(t,i):hi),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=gr,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function yr(t,e,n,s){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,s),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&gr.enqueueReplaceState(e,e.state,null)}function br(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fr,ar(t);var r=e.contextType;"object"==typeof r&&null!==r?i.context=rr(r):(r=gi(e)?fi:di.current,i.context=mi(t,r)),dr(t,n,i,s),i.state=t.memoizedState,"function"==typeof(r=e.getDerivedStateFromProps)&&(mr(t,e,r,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&gr.enqueueReplaceState(i,i.state,null),dr(t,n,i,s),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var wr=Array.isArray;function xr(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=s.refs;e===fr&&(e=s.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function kr(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Sr(t){function e(e,n){if(t){var s=e.lastEffect;null!==s?(s.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,s){if(!t)return null;for(;null!==s;)e(n,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ul(t,e)).index=0,t.sibling=null,t}function r(e,n,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<n?(e.flags=2,n):s:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,s){return null===e||6!==e.tag?((e=Hl(n,t.mode,s)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,s){return null!==e&&e.elementType===n.type?((s=i(e,n.props)).ref=xr(t,e,n),s.return=t,s):((s=Gl(n.type,n.key,n.props,null,t.mode,s)).ref=xr(t,e,n),s.return=t,s)}function u(t,e,n,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,s)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,s,r){return null===e||7!==e.tag?((e=Ql(n,t.mode,s,r)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Hl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Gl(e.type,e.key,e.props,null,t.mode,n)).ref=xr(t,null,e),n.return=t,n;case k:return(e=Yl(e,t.mode,n)).return=t,e}if(wr(e)||B(e))return(e=Ql(e,t.mode,n,null)).return=t,e;kr(t,e)}return null}function p(t,e,n,s){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?h(t,e,n.props.children,s,i):c(t,e,n,s):null;case k:return n.key===i?u(t,e,n,s):null}if(wr(n)||B(n))return null!==i?null:h(t,e,n,s,null);kr(t,n)}return null}function f(t,e,n,s,i){if("string"==typeof s||"number"==typeof s)return l(e,t=t.get(n)||null,""+s,i);if("object"==typeof s&&null!==s){switch(s.$$typeof){case x:return t=t.get(null===s.key?n:s.key)||null,s.type===S?h(e,t,s.props.children,i,s.key):c(e,t,s,i);case k:return u(e,t=t.get(null===s.key?n:s.key)||null,s,i)}if(wr(s)||B(s))return h(e,t=t.get(n)||null,s,i,null);kr(e,s)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=p(i,h,a[m],l);if(null===_){null===h&&(h=g);break}t&&h&&null===_.alternate&&e(i,h),o=r(_,o,m),null===u?c=_:u.sibling=_,u=_,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=r(h,o,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=s(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=r(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(i,t)})),c}function g(i,a,l,c){var u=B(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,_=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var y=p(i,m,v.value,c);if(null===y){null===m&&(m=_);break}t&&m&&null===y.alternate&&e(i,m),a=r(y,a,g),null===h?u=y:h.sibling=y,h=y,m=_}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=r(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=s(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=r(v,a,g),null===h?u=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),u}return function(t,s,r,l){var c="object"==typeof r&&null!==r&&r.type===S&&null===r.key;c&&(r=r.props.children);var u="object"==typeof r&&null!==r;if(u)switch(r.$$typeof){case x:t:{for(u=r.key,c=s;null!==c;){if(c.key===u){if(7===c.tag){if(r.type===S){n(t,c.sibling),(s=i(c,r.props.children)).return=t,t=s;break t}}else if(c.elementType===r.type){n(t,c.sibling),(s=i(c,r.props)).ref=xr(t,c,r),s.return=t,t=s;break t}n(t,c);break}e(t,c),c=c.sibling}r.type===S?((s=Ql(r.props.children,t.mode,l,r.key)).return=t,t=s):((l=Gl(r.type,r.key,r.props,null,t.mode,l)).ref=xr(t,s,r),l.return=t,t=l)}return a(t);case k:t:{for(c=r.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(t,s.sibling),(s=i(s,r.children||[])).return=t,t=s;break t}n(t,s);break}e(t,s),s=s.sibling}(s=Yl(r,t.mode,l)).return=t,t=s}return a(t)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==s&&6===s.tag?(n(t,s.sibling),(s=i(s,r)).return=t,t=s):(n(t,s),(s=Hl(r,t.mode,l)).return=t,t=s),a(t);if(wr(r))return m(t,s,r,l);if(B(r))return g(t,s,r,l);if(u&&kr(t,r),void 0===r&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,$(t.type)||"Component"))}return n(t,s)}}var Tr=Sr(!0),Cr=Sr(!1),Er={},Ar=li(Er),Or=li(Er),Dr=li(Er);function Mr(t){if(t===Er)throw Error(o(174));return t}function Rr(t,e){switch(ui(Dr,e),ui(Or,t),ui(Ar,Er),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Ar),ui(Ar,e)}function Nr(){ci(Ar),ci(Or),ci(Dr)}function Fr(t){Mr(Dr.current);var e=Mr(Ar.current),n=pt(e,t.type);e!==n&&(ui(Or,t),ui(Ar,n))}function Ir(t){Or.current===t&&(ci(Ar),ci(Or))}var Pr=li(0);function qr(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vr=null,Lr=null,zr=!1;function jr(t,e){var n=Bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Br(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Wr(t){if(zr){var e=Lr;if(e){var n=e;if(!Br(t,e)){if(!(e=$s(n.nextSibling))||!Br(t,e))return t.flags=-1025&t.flags|2,zr=!1,void(Vr=t);jr(Vr,n)}Vr=t,Lr=$s(e.firstChild)}else t.flags=-1025&t.flags|2,zr=!1,Vr=t}}function Ur(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Vr=t}function Gr(t){if(t!==Vr)return!1;if(!zr)return Ur(t),zr=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ws(e,t.memoizedProps))for(e=Lr;e;)jr(t,e),e=$s(e.nextSibling);if(Ur(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Lr=$s(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Lr=null}}else Lr=Vr?$s(t.stateNode.nextSibling):null;return!0}function Qr(){Lr=Vr=null,zr=!1}var $r=[];function Hr(){for(var t=0;t<$r.length;t++)$r[t]._workInProgressVersionPrimary=null;$r.length=0}var Yr=w.ReactCurrentDispatcher,Zr=w.ReactCurrentBatchConfig,Xr=0,Kr=null,Jr=null,to=null,eo=!1,no=!1;function so(){throw Error(o(321))}function io(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function ro(t,e,n,s,i,r){if(Xr=r,Kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yr.current=null===t||null===t.memoizedState?Ro:No,t=n(s,i),no){r=0;do{if(no=!1,!(25>r))throw Error(o(301));r+=1,to=Jr=null,e.updateQueue=null,Yr.current=Fo,t=n(s,i)}while(no)}if(Yr.current=Mo,e=null!==Jr&&null!==Jr.next,Xr=0,to=Jr=Kr=null,eo=!1,e)throw Error(o(300));return t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Kr.memoizedState=to=t:to=to.next=t,to}function ao(){if(null===Jr){var t=Kr.alternate;t=null!==t?t.memoizedState:null}else t=Jr.next;var e=null===to?Kr.memoizedState:to.next;if(null!==e)to=e,Jr=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Jr=t).memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},null===to?Kr.memoizedState=to=t:to=to.next=t}return to}function lo(t,e){return"function"==typeof e?e(t):e}function co(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var s=Jr,i=s.baseQueue,r=n.pending;if(null!==r){if(null!==i){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,n.pending=null}if(null!==i){i=i.next,s=s.baseState;var l=a=r=null,c=i;do{var u=c.lane;if((Xr&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),s=c.eagerReducer===t?c.eagerState:t(s,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,r=s):l=l.next=h,Kr.lanes|=u,La|=u}c=c.next}while(null!==c&&c!==i);null===l?r=s:l.next=a,cs(s,e.memoizedState)||(Po=!0),e.memoizedState=s,e.baseState=r,e.baseQueue=l,n.lastRenderedState=s}return[e.memoizedState,n.dispatch]}function uo(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{r=t(r,a.action),a=a.next}while(a!==i);cs(r,e.memoizedState)||(Po=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function ho(t,e,n){var s=e._getVersion;s=s(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===s:(t=t.mutableReadLanes,(t=(Xr&t)===t)&&(e._workInProgressVersionPrimary=s,$r.push(e))),t)return n(e._source);throw $r.push(e),Error(o(350))}function po(t,e,n,s){var i=Ma;if(null===i)throw Error(o(349));var r=e._getVersion,a=r(e._source),l=Yr.current,c=l.useState((function(){return ho(i,e,n)})),u=c[1],h=c[0];c=to;var d=t.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=Kr;return t.memoizedState={refs:p,source:e,subscribe:s},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var t=r(e._source);if(!cs(a,t)){t=n(e._source),cs(h,t)||(u(t),t=hl(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var s=i.entanglements,o=t;0<o;){var l=31-We(o),c=1<<l;s[l]|=t,o&=~c}}}),[n,e,s]),l.useEffect((function(){return s(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var s=hl(g);i.mutableReadLanes|=s&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,s]),cs(f,n)&&cs(m,e)&&cs(d,s)||((t={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=u=Do.bind(null,Kr,t),c.queue=t,c.baseQueue=null,h=ho(i,e,n),c.memoizedState=c.baseState=h),h}function fo(t,e,n){return po(ao(),t,e,n)}function mo(t){var e=oo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t}).dispatch=Do.bind(null,Kr,t),[e.memoizedState,t]}function go(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},null===(e=Kr.updateQueue)?(e={lastEffect:null},Kr.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function _o(t){return t={current:t},oo().memoizedState=t}function vo(){return ao().memoizedState}function yo(t,e,n,s){var i=oo();Kr.flags|=t,i.memoizedState=go(1|e,n,void 0,void 0===s?null:s)}function bo(t,e,n,s){var i=ao();s=void 0===s?null:s;var r=void 0;if(null!==Jr){var o=Jr.memoizedState;if(r=o.destroy,null!==s&&io(s,o.deps))return void go(e,n,r,s)}Kr.flags|=t,i.memoizedState=go(1|e,n,r,s)}function wo(t,e){return yo(516,4,t,e)}function xo(t,e){return bo(516,4,t,e)}function ko(t,e){return bo(4,2,t,e)}function So(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function To(t,e,n){return n=null!=n?n.concat([t]):null,bo(4,2,So.bind(null,e,t),n)}function Co(){}function Eo(t,e){var n=ao();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&io(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Ao(t,e){var n=ao();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&io(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Oo(t,e){var n=Wi();Gi(98>n?98:n,(function(){t(!0)})),Gi(97<n?97:n,(function(){var n=Zr.transition;Zr.transition=1;try{t(!1),e()}finally{Zr.transition=n}}))}function Do(t,e,n){var s=ul(),i=hl(t),r={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Kr||null!==o&&o===Kr)no=eo=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,l=o(a,n);if(r.eagerReducer=o,r.eagerState=l,cs(l,a))return}catch(t){}dl(t,i,s)}}var Mo={readContext:rr,useCallback:so,useContext:so,useEffect:so,useImperativeHandle:so,useLayoutEffect:so,useMemo:so,useReducer:so,useRef:so,useState:so,useDebugValue:so,useDeferredValue:so,useTransition:so,useMutableSource:so,useOpaqueIdentifier:so,unstable_isNewReconciler:!1},Ro={readContext:rr,useCallback:function(t,e){return oo().memoizedState=[t,void 0===e?null:e],t},useContext:rr,useEffect:wo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,yo(4,2,So.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=oo();return e=void 0!==n?n(e):e,s.memoizedState=s.baseState=e,t=(t=s.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Do.bind(null,Kr,t),[s.memoizedState,t]},useRef:_o,useState:mo,useDebugValue:Co,useDeferredValue:function(t){var e=mo(t),n=e[0],s=e[1];return wo((function(){var e=Zr.transition;Zr.transition=1;try{s(t)}finally{Zr.transition=e}}),[t]),n},useTransition:function(){var t=mo(!1),e=t[0];return _o(t=Oo.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var s=oo();return s.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},po(s,t,e,n)},useOpaqueIdentifier:function(){if(zr){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Ys++).toString(36))),Error(o(355))})),n=mo(e)[1];return 0==(2&Kr.mode)&&(Kr.flags|=516,go(5,(function(){n("r:"+(Ys++).toString(36))}),void 0,null)),e}return mo(e="r:"+(Ys++).toString(36)),e},unstable_isNewReconciler:!1},No={readContext:rr,useCallback:Eo,useContext:rr,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Ao,useReducer:co,useRef:vo,useState:function(){return co(lo)},useDebugValue:Co,useDeferredValue:function(t){var e=co(lo),n=e[0],s=e[1];return xo((function(){var e=Zr.transition;Zr.transition=1;try{s(t)}finally{Zr.transition=e}}),[t]),n},useTransition:function(){var t=co(lo)[0];return[vo().current,t]},useMutableSource:fo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Fo={readContext:rr,useCallback:Eo,useContext:rr,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Ao,useReducer:uo,useRef:vo,useState:function(){return uo(lo)},useDebugValue:Co,useDeferredValue:function(t){var e=uo(lo),n=e[0],s=e[1];return xo((function(){var e=Zr.transition;Zr.transition=1;try{s(t)}finally{Zr.transition=e}}),[t]),n},useTransition:function(){var t=uo(lo)[0];return[vo().current,t]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Io=w.ReactCurrentOwner,Po=!1;function qo(t,e,n,s){e.child=null===t?Cr(e,null,n,s):Tr(e,t.child,n,s)}function Vo(t,e,n,s,i){n=n.render;var r=e.ref;return ir(e,i),s=ro(t,e,n,s,r,i),null===t||Po?(e.flags|=1,qo(t,e,s,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sa(t,e,i))}function Lo(t,e,n,s,i,r){if(null===t){var o=n.type;return"function"!=typeof o||Wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Gl(n.type,null,s,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,zo(t,e,o,s,i,r))}return o=t.child,0==(i&r)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hs)(i,s)&&t.ref===e.ref)?sa(t,e,r):(e.flags|=1,(t=Ul(o,s)).ref=e.ref,t.return=e,e.child=t)}function zo(t,e,n,s,i,r){if(null!==t&&hs(t.memoizedProps,s)&&t.ref===e.ref){if(Po=!1,0==(r&i))return e.lanes=t.lanes,sa(t,e,r);0!=(16384&t.flags)&&(Po=!0)}return Wo(t,e,n,s,r)}function jo(t,e,n){var s=e.pendingProps,i=s.children,r=null!==t?t.memoizedState:null;if("hidden"===s.mode||"unstable-defer-without-hiding"===s.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},bl(0,n);else{if(0==(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bl(0,t),null;e.memoizedState={baseLanes:0},bl(0,null!==r?r.baseLanes:n)}else null!==r?(s=r.baseLanes|n,e.memoizedState=null):s=n,bl(0,s);return qo(t,e,i,n),e.child}function Bo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Wo(t,e,n,s,i){var r=gi(n)?fi:di.current;return r=mi(e,r),ir(e,i),n=ro(t,e,n,s,r,i),null===t||Po?(e.flags|=1,qo(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sa(t,e,i))}function Uo(t,e,n,s,i){if(gi(n)){var r=!0;bi(e)}else r=!1;if(ir(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vr(e,n,s),br(e,n,s,i),s=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?rr(c):mi(e,c=gi(n)?fi:di.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==s||l!==c)&&yr(e,o,s,c),or=!1;var d=e.memoizedState;o.state=d,dr(e,s,o,i),l=e.memoizedState,a!==s||d!==l||pi.current||or?("function"==typeof u&&(mr(e,n,u,s),l=e.memoizedState),(a=or||_r(e,n,a,s,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4)):("function"==typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):("function"==typeof o.componentDidMount&&(e.flags|=4),s=!1)}else{o=e.stateNode,lr(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zi(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?rr(l):mi(e,l=gi(n)?fi:di.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&yr(e,o,s,l),or=!1,d=e.memoizedState,o.state=d,dr(e,s,o,i);var f=e.memoizedState;a!==h||d!==f||pi.current||or?("function"==typeof p&&(mr(e,n,p,s),f=e.memoizedState),(c=or||_r(e,n,c,s,d,f,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(s,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,f,l)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=s,e.memoizedState=f),o.props=s,o.state=f,o.context=l,s=c):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),s=!1)}return Go(t,e,n,s,r,i)}function Go(t,e,n,s,i,r){Bo(t,e);var o=0!=(64&e.flags);if(!s&&!o)return i&&wi(e,n,!1),sa(t,e,r);s=e.stateNode,Io.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&o?(e.child=Tr(e,t.child,null,r),e.child=Tr(e,null,a,r)):qo(t,e,a,r),e.memoizedState=s.state,i&&wi(e,n,!0),e.child}function Qo(t){var e=t.stateNode;e.pendingContext?vi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&vi(0,e.context,!1),Rr(t,e.containerInfo)}var $o,Ho,Yo,Zo,Xo={dehydrated:null,retryLane:0};function Ko(t,e,n){var s,i=e.pendingProps,r=Pr.current,o=!1;return(s=0!=(64&e.flags))||(s=(null===t||null!==t.memoizedState)&&0!=(2&r)),s?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(r|=1),ui(Pr,1&r),null===t?(void 0!==i.fallback&&Wr(e),t=i.children,r=i.fallback,o?(t=Jo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xo,t):"number"==typeof i.unstable_expectedLoadTime?(t=Jo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xo,e.lanes=33554432,t):((n=$l({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,o?(i=function(t,e,n,s,i){var r=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return 0==(2&r)&&e.child!==o?((n=e.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ul(o,a),null!==t?s=Ul(t,s):(s=Ql(s,r,i,null)).flags|=2,s.return=e,n.return=e,n.sibling=s,e.child=n,s}(t,e,i.children,i.fallback,n),o=e.child,r=t.child.memoizedState,o.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Xo,i):(n=function(t,e,n,s){var i=t.child;return t=i.sibling,n=Ul(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=s),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Jo(t,e,n,s){var i=t.mode,r=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==r?(r.childLanes=0,r.pendingProps=e):r=$l(e,i,0,null),n=Ql(n,i,s,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n}function ta(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),sr(t.return,e)}function ea(t,e,n,s,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,lastEffect:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i,o.lastEffect=r)}function na(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(qo(t,e,s.children,n),0!=(2&(s=Pr.current)))s=1&s|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ta(t,n);else if(19===t.tag)ta(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ui(Pr,s),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===qr(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ea(e,!1,i,n,r,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===qr(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ea(e,!0,n,null,r,e.lastEffect);break;case"together":ea(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function sa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),La|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ul(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ul(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ia(t,e){if(!zr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ra(t,e,n){var s=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(e.type)&&_i(),null;case 3:return Nr(),ci(pi),ci(di),Hr(),(s=e.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(Gr(e)?e.flags|=4:s.hydrate||(e.flags|=256)),Ho(e),null;case 5:Ir(e);var r=Mr(Dr.current);if(n=e.type,null!==t&&null!=e.stateNode)Yo(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=128);else{if(!s){if(null===e.stateNode)throw Error(o(166));return null}if(t=Mr(Ar.current),Gr(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Xs]=e,s[Ks]=a,n){case"dialog":Os("cancel",s),Os("close",s);break;case"iframe":case"object":case"embed":Os("load",s);break;case"video":case"audio":for(t=0;t<Ts.length;t++)Os(Ts[t],s);break;case"source":Os("error",s);break;case"img":case"image":case"link":Os("error",s),Os("load",s);break;case"details":Os("toggle",s);break;case"input":tt(s,a),Os("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Os("invalid",s);break;case"textarea":lt(s,a),Os("invalid",s)}for(var c in kt(n,a),t=null,a)a.hasOwnProperty(c)&&(r=a[c],"children"===c?"string"==typeof r?s.textContent!==r&&(t=["children",r]):"number"==typeof r&&s.textContent!==""+r&&(t=["children",""+r]):l.hasOwnProperty(c)&&null!=r&&"onScroll"===c&&Os("scroll",s));switch(n){case"input":Z(s),st(s,a,!0);break;case"textarea":Z(s),ut(s);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(s.onclick=Ls)}s=t,e.updateQueue=s,null!==s&&(e.flags|=4)}else{switch(c=9===r.nodeType?r:r.ownerDocument,t===ht.html&&(t=dt(n)),t===ht.html?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=c.createElement(n,{is:s.is}):(t=c.createElement(n),"select"===n&&(c=t,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):t=c.createElementNS(t,n),t[Xs]=e,t[Ks]=s,$o(t,e,!1,!1),e.stateNode=t,c=St(n,s),n){case"dialog":Os("cancel",t),Os("close",t),r=s;break;case"iframe":case"object":case"embed":Os("load",t),r=s;break;case"video":case"audio":for(r=0;r<Ts.length;r++)Os(Ts[r],t);r=s;break;case"source":Os("error",t),r=s;break;case"img":case"image":case"link":Os("error",t),Os("load",t),r=s;break;case"details":Os("toggle",t),r=s;break;case"input":tt(t,s),r=J(t,s),Os("invalid",t);break;case"option":r=rt(t,s);break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=i({},s,{value:void 0}),Os("invalid",t);break;case"textarea":lt(t,s),r=at(t,s),Os("invalid",t);break;default:r=s}kt(n,r);var u=r;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?wt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&_t(t,h):"number"==typeof h&&_t(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Os("scroll",t):null!=h&&b(t,a,h,c))}switch(n){case"input":Z(t),st(t,s,!1);break;case"textarea":Z(t),ut(t);break;case"option":null!=s.value&&t.setAttribute("value",""+H(s.value));break;case"select":t.multiple=!!s.multiple,null!=(a=s.value)?ot(t,!!s.multiple,a,!1):null!=s.defaultValue&&ot(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=Ls)}Bs(n,s)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Zo(t,e,t.memoizedProps,s);else{if("string"!=typeof s&&null===e.stateNode)throw Error(o(166));n=Mr(Dr.current),Mr(Ar.current),Gr(e)?(s=e.stateNode,n=e.memoizedProps,s[Xs]=e,s.nodeValue!==n&&(e.flags|=4)):((s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[Xs]=e,e.stateNode=s)}return null;case 13:return ci(Pr),s=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(s=null!==s,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Gr(e):n=null!==t.memoizedState,s&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Pr.current)?0===Pa&&(Pa=3):(0!==Pa&&3!==Pa||(Pa=4),null===Ma||0==(134217727&La)&&0==(134217727&za)||gl(Ma,Na))),(s||n)&&(e.flags|=4),null);case 4:return Nr(),Ho(e),null===t&&Ms(e.stateNode.containerInfo),null;case 10:return nr(e),null;case 19:if(ci(Pr),null===(s=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(c=s.rendering))if(a)ia(s,!1);else{if(0!==Pa||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=qr(t))){for(e.flags|=64,ia(s,!1),null!==(a=c.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===s.lastEffect&&(e.firstEffect=null),e.lastEffect=s.lastEffect,s=n,n=e.child;null!==n;)t=s,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,t=c.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(Pr,1&Pr.current|2),e.child}t=t.sibling}null!==s.tail&&Bi()>Ua&&(e.flags|=64,a=!0,ia(s,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=qr(c))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ia(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!zr)return null!==(e=e.lastEffect=s.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-s.renderingStartTime>Ua&&1073741824!==n&&(e.flags|=64,a=!0,ia(s,!1),e.lanes=33554432);s.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=s.last)?n.sibling=c:e.child=c,s.last=c)}return null!==s.tail?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.lastEffect=e.lastEffect,s.renderingStartTime=Bi(),n.sibling=null,e=Pr.current,ui(Pr,a?1&e|2:1&e),n):null;case 23:case 24:return wl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==s.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function oa(t){switch(t.tag){case 1:gi(t.type)&&_i();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Nr(),ci(pi),ci(di),Hr(),0!=(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Ir(t),null;case 13:return ci(Pr),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(Pr),null;case 4:return Nr(),null;case 10:return nr(t),null;case 23:case 24:return wl(),null;default:return null}}function aa(t,e){try{var n="",s=e;do{n+=Q(s),s=s.return}while(s);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function la(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}$o=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(){},Yo=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Mr(Ar.current);var o,a=null;switch(n){case"input":r=J(t,r),s=J(t,s),a=[];break;case"option":r=rt(t,r),s=rt(t,s),a=[];break;case"select":r=i({},r,{value:void 0}),s=i({},s,{value:void 0}),a=[];break;case"textarea":r=at(t,r),s=at(t,s),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof s.onClick&&(t.onclick=Ls)}for(h in kt(n,s),n=null,r)if(!s.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var c=r[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in s){var u=s[h];if(c=null!=r?r[h]:void 0,s.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Os("scroll",t),a||c===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===I?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Zo=function(t,e,n,s){n!==s&&(e.flags|=4)};var ca="function"==typeof WeakMap?WeakMap:Map;function ua(t,e,n){(n=cr(-1,n)).tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Ha||(Ha=!0,Ya=s),la(0,e)},n}function ha(t,e,n){(n=cr(-1,n)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var i=e.value;n.payload=function(){return la(0,e),s(i)}}var r=t.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof s&&(null===Za?Za=new Set([this]):Za.add(this),la(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var da="function"==typeof WeakSet?WeakSet:Set;function pa(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Vl(t,e)}else e.current=null}function fa(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,s=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),s),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Qs(e.stateNode.containerInfo))}throw Error(o(163))}function ma(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;s=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Il(n,t),Fl(n,t)),t=s}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(s=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(s,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&pr(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}pr(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Bs(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(o(163))}function ga(t,e){for(var n=t;;){if(5===n.tag){var s=n.stateNode;if(e)"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{s=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,s.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _a(t,e){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(xi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var s=n,i=s.destroy;if(s=s.tag,void 0!==i)if(0!=(4&s))Il(e,n);else{s=e;try{i()}catch(t){Vl(s,t)}}n=n.next}while(n!==t)}break;case 1:if(pa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Vl(e,t)}break;case 5:pa(e);break;case 4:ka(t,e)}}function va(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ya(t){return 5===t.tag||3===t.tag||4===t.tag}function ba(t){t:{for(var e=t.return;null!==e;){if(ya(e))break t;e=e.return}throw Error(o(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var s=!1;break;case 3:case 4:e=e.containerInfo,s=!0;break;default:throw Error(o(161))}16&n.flags&&(_t(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ya(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}s?wa(t,n,e):xa(t,n,e)}function wa(t,e,n){var s=t.tag,i=5===s||6===s;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Ls));else if(4!==s&&null!==(t=t.child))for(wa(t,e,n),t=t.sibling;null!==t;)wa(t,e,n),t=t.sibling}function xa(t,e,n){var s=t.tag,i=5===s||6===s;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==s&&null!==(t=t.child))for(xa(t,e,n),t=t.sibling;null!==t;)xa(t,e,n),t=t.sibling}function ka(t,e){for(var n,s,i=e,r=!1;;){if(!r){r=i.return;t:for(;;){if(null===r)throw Error(o(160));switch(n=r.stateNode,r.tag){case 5:s=!1;break t;case 3:case 4:n=n.containerInfo,s=!0;break t}r=r.return}r=!0}if(5===i.tag||6===i.tag){t:for(var a=t,l=i,c=l;;)if(_a(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,s=!0,i.child.return=i,i=i.child;continue}}else if(_a(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(r=!1)}i.sibling.return=i.return,i=i.sibling}}function Sa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{3==(3&s.tag)&&(t=s.destroy,s.destroy=void 0,void 0!==t&&t()),s=s.next}while(s!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){s=e.memoizedProps;var i=null!==t?t.memoizedProps:s;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(n[Ks]=s,"input"===t&&"radio"===s.type&&null!=s.name&&et(n,s),St(t,i),e=St(t,s),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];"style"===a?wt(n,l):"dangerouslySetInnerHTML"===a?gt(n,l):"children"===a?_t(n,l):b(n,a,l,e)}switch(t){case"input":nt(n,s);break;case"textarea":ct(n,s);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!s.multiple,null!=(r=s.value)?ot(n,!!s.multiple,r,!1):t!==!!s.multiple&&(null!=s.defaultValue?ot(n,!!s.multiple,s.defaultValue,!0):ot(n,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Wa=Bi(),ga(e.child,!0)),void Ta(e);case 19:return void Ta(e);case 23:case 24:return void ga(e,null!==e.memoizedState)}throw Error(o(163))}function Ta(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new da),e.forEach((function(e){var s=zl.bind(null,t,e);n.has(e)||(n.add(e),e.then(s,s))}))}}function Ca(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Ea=Math.ceil,Aa=w.ReactCurrentDispatcher,Oa=w.ReactCurrentOwner,Da=0,Ma=null,Ra=null,Na=0,Fa=0,Ia=li(0),Pa=0,qa=null,Va=0,La=0,za=0,ja=0,Ba=null,Wa=0,Ua=1/0;function Ga(){Ua=Bi()+500}var Qa,$a=null,Ha=!1,Ya=null,Za=null,Xa=!1,Ka=null,Ja=90,tl=[],el=[],nl=null,sl=0,il=null,rl=-1,ol=0,al=0,ll=null,cl=!1;function ul(){return 0!=(48&Da)?Bi():-1!==rl?rl:rl=Bi()}function hl(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Wi()?1:2;if(0===ol&&(ol=Va),0!==Yi.transition){0!==al&&(al=null!==Ba?Ba.pendingLanes:0),t=ol;var e=4186112&~al;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Wi(),t=Le(0!=(4&Da)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol)}function dl(t,e,n){if(50<sl)throw sl=0,il=null,Error(o(185));if(null===(t=pl(t,e)))return null;Be(t,e,n),t===Ma&&(za|=e,4===Pa&&gl(t,Na));var s=Wi();1===e?0!=(8&Da)&&0==(48&Da)?_l(t):(fl(t,n),0===Da&&(Ga(),$i())):(0==(4&Da)||98!==s&&99!==s||(null===nl?nl=new Set([t]):nl.add(t)),fl(t,n)),Ba=t}function pl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function fl(t,e){for(var n=t.callbackNode,s=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-We(a),c=1<<l,u=r[l];if(-1===u){if(0==(c&s)||0!=(c&i)){u=e,Pe(c);var h=Ie;r[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);a&=~c}if(s=qe(t,t===Ma?Na:0),e=Ie,0===s)null!==n&&(n!==Pi&&Ci(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Pi&&Ci(n)}15===e?(n=_l.bind(null,t),null===Vi?(Vi=[n],Li=Ti(Mi,Hi)):Vi.push(n),n=Pi):14===e?n=Qi(99,_l.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),n=Qi(n,ml.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function ml(t){if(rl=-1,al=ol=0,0!=(48&Da))throw Error(o(327));var e=t.callbackNode;if(Nl()&&t.callbackNode!==e)return null;var n=qe(t,t===Ma?Na:0);if(0===n)return null;var s=n,i=Da;Da|=16;var r=Sl();for(Ma===t&&Na===s||(Ga(),xl(t,s));;)try{El();break}catch(e){kl(t,e)}if(er(),Aa.current=r,Da=i,null!==Ra?s=0:(Ma=null,Na=0,s=Pa),0!=(Va&za))xl(t,0);else if(0!==s){if(2===s&&(Da|=64,t.hydrate&&(t.hydrate=!1,Qs(t.containerInfo)),0!==(n=Ve(t))&&(s=Tl(t,n))),1===s)throw e=qa,xl(t,0),gl(t,n),fl(t,Bi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,s){case 0:case 1:throw Error(o(345));case 2:case 5:Dl(t);break;case 3:if(gl(t,n),(62914560&n)===n&&10<(s=Wa+500-Bi())){if(0!==qe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Us(Dl.bind(null,t),s);break}Dl(t);break;case 4:if(gl(t,n),(4186112&n)===n)break;for(s=t.eventTimes,i=-1;0<n;){var a=31-We(n);r=1<<a,(a=s[a])>i&&(i=a),n&=~r}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ea(n/1960))-n)){t.timeoutHandle=Us(Dl.bind(null,t),n);break}Dl(t);break;default:throw Error(o(329))}}return fl(t,Bi()),t.callbackNode===e?ml.bind(null,t):null}function gl(t,e){for(e&=~ja,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),s=1<<n;t[n]=-1,e&=~s}}function _l(t){if(0!=(48&Da))throw Error(o(327));if(Nl(),t===Ma&&0!=(t.expiredLanes&Na)){var e=Na,n=Tl(t,e);0!=(Va&za)&&(n=Tl(t,e=qe(t,e)))}else n=Tl(t,e=qe(t,0));if(0!==t.tag&&2===n&&(Da|=64,t.hydrate&&(t.hydrate=!1,Qs(t.containerInfo)),0!==(e=Ve(t))&&(n=Tl(t,e))),1===n)throw n=qa,xl(t,0),gl(t,e),fl(t,Bi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dl(t),fl(t,Bi()),null}function vl(t,e){var n=Da;Da|=1;try{return t(e)}finally{0===(Da=n)&&(Ga(),$i())}}function yl(t,e){var n=Da;Da&=-2,Da|=8;try{return t(e)}finally{0===(Da=n)&&(Ga(),$i())}}function bl(t,e){ui(Ia,Fa),Fa|=e,Va|=e}function wl(){Fa=Ia.current,ci(Ia)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Gs(n)),null!==Ra)for(n=Ra.return;null!==n;){var s=n;switch(s.tag){case 1:null!=(s=s.type.childContextTypes)&&_i();break;case 3:Nr(),ci(pi),ci(di),Hr();break;case 5:Ir(s);break;case 4:Nr();break;case 13:case 19:ci(Pr);break;case 10:nr(s);break;case 23:case 24:wl()}n=n.return}Ma=t,Ra=Ul(t.current,null),Na=Fa=Va=e,Pa=0,qa=null,ja=za=La=0}function kl(t,e){for(;;){var n=Ra;try{if(er(),Yr.current=Mo,eo){for(var s=Kr.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}eo=!1}if(Xr=0,to=Jr=Kr=null,no=!1,Oa.current=null,null===n||null===n.return){Pa=1,qa=e,Ra=null;break}t:{var r=t,o=n.return,a=n,l=e;if(e=Na,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Pr.current),d=o;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var _=new Set;_.add(c),d.updateQueue=_}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=cr(-1,1);v.tag=2,ur(a,v)}a.lanes|=1;break t}l=void 0,a=e;var y=r.pingCache;if(null===y?(y=r.pingCache=new ca,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var b=Ll.bind(null,r,c,a);c.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);l=Error(($(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Pa&&(Pa=2),l=aa(l,a),d=o;do{switch(d.tag){case 3:r=l,d.flags|=4096,e&=-e,d.lanes|=e,hr(d,ua(0,r,e));break t;case 1:r=l;var w=d.type,x=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Za||!Za.has(x)))){d.flags|=4096,e&=-e,d.lanes|=e,hr(d,ha(d,r,e));break t}}d=d.return}while(null!==d)}Ol(n)}catch(t){e=t,Ra===n&&null!==n&&(Ra=n=n.return);continue}break}}function Sl(){var t=Aa.current;return Aa.current=Mo,null===t?Mo:t}function Tl(t,e){var n=Da;Da|=16;var s=Sl();for(Ma===t&&Na===e||xl(t,e);;)try{Cl();break}catch(e){kl(t,e)}if(er(),Da=n,Aa.current=s,null!==Ra)throw Error(o(261));return Ma=null,Na=0,Pa}function Cl(){for(;null!==Ra;)Al(Ra)}function El(){for(;null!==Ra&&!Ei();)Al(Ra)}function Al(t){var e=Qa(t.alternate,t,Fa);t.memoizedProps=t.pendingProps,null===e?Ol(t):Ra=e,Oa.current=null}function Ol(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ra(n,e,Fa)))return void(Ra=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Fa)||0==(4&n.mode)){for(var s=0,i=n.child;null!==i;)s|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=s}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=oa(e)))return n.flags&=2047,void(Ra=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ra=e);Ra=e=t}while(null!==e);0===Pa&&(Pa=5)}function Dl(t){var e=Wi();return Gi(99,Ml.bind(null,t,e)),null}function Ml(t,e){do{Nl()}while(null!==Ka);if(0!=(48&Da))throw Error(o(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null;var s=n.lanes|n.childLanes,i=s,r=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<r;){var c=31-We(r),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,r&=~u}if(null!==nl&&0==(24&s)&&nl.has(t)&&nl.delete(t),t===Ma&&(Ra=Ma=null,Na=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,s=n.firstEffect):s=n:s=n.firstEffect,null!==s){if(i=Da,Da|=32,Oa.current=null,zs=He,gs(a=ms())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else t:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,r=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(t){l=null;break t}var h=0,d=-1,p=-1,f=0,m=0,g=a,_=null;e:for(;;){for(var v;g!==l||0!==r&&3!==g.nodeType||(d=h+r),g!==c||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)_=g,g=v;for(;;){if(g===a)break e;if(_===l&&++f===r&&(d=h),_===c&&++m===u&&(p=h),null!==(v=g.nextSibling))break;_=(g=_).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;js={focusedElem:a,selectionRange:l},He=!1,ll=null,cl=!1,$a=s;do{try{Rl()}catch(t){if(null===$a)throw Error(o(330));Vl($a,t),$a=$a.nextEffect}}while(null!==$a);ll=null,$a=s;do{try{for(a=t;null!==$a;){var y=$a.flags;if(16&y&&_t($a.stateNode,""),128&y){var b=$a.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ba($a),$a.flags&=-3;break;case 6:ba($a),$a.flags&=-3,Sa($a.alternate,$a);break;case 1024:$a.flags&=-1025;break;case 1028:$a.flags&=-1025,Sa($a.alternate,$a);break;case 4:Sa($a.alternate,$a);break;case 8:ka(a,l=$a);var x=l.alternate;va(l),null!==x&&va(x)}$a=$a.nextEffect}}catch(t){if(null===$a)throw Error(o(330));Vl($a,t),$a=$a.nextEffect}}while(null!==$a);if(w=js,b=ms(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&fs(y.ownerDocument.documentElement,y)){null!==a&&gs(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=y.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!w.extend&&x>a&&(l=a,a=x,x=l),l=ps(y,x),r=ps(y,a),l&&r&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==r.node||w.focusOffset!==r.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(r.node,r.offset)):(b.setEnd(r.node,r.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}He=!!zs,js=zs=null,t.current=n,$a=s;do{try{for(y=t;null!==$a;){var k=$a.flags;if(36&k&&ma(y,$a.alternate,$a),128&k){b=void 0;var S=$a.ref;if(null!==S){var T=$a.stateNode;$a.tag,b=T,"function"==typeof S?S(b):S.current=b}}$a=$a.nextEffect}}catch(t){if(null===$a)throw Error(o(330));Vl($a,t),$a=$a.nextEffect}}while(null!==$a);$a=null,qi(),Da=i}else t.current=n;if(Xa)Xa=!1,Ka=t,Ja=e;else for($a=s;null!==$a;)e=$a.nextEffect,$a.nextEffect=null,8&$a.flags&&((k=$a).sibling=null,k.stateNode=null),$a=e;if(0===(s=t.pendingLanes)&&(Za=null),1===s?t===il?sl++:(sl=0,il=t):sl=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(xi,n,void 0,64==(64&n.current.flags))}catch(t){}if(fl(t,Bi()),Ha)throw Ha=!1,t=Ya,Ya=null,t;return 0!=(8&Da)||$i(),null}function Rl(){for(;null!==$a;){var t=$a.alternate;cl||null===ll||(0!=(8&$a.flags)?Jt($a,ll)&&(cl=!0):13===$a.tag&&Ca(t,$a)&&Jt($a,ll)&&(cl=!0));var e=$a.flags;0!=(256&e)&&fa(t,$a),0==(512&e)||Xa||(Xa=!0,Qi(97,(function(){return Nl(),null}))),$a=$a.nextEffect}}function Nl(){if(90!==Ja){var t=97<Ja?97:Ja;return Ja=90,Gi(t,Pl)}return!1}function Fl(t,e){tl.push(e,t),Xa||(Xa=!0,Qi(97,(function(){return Nl(),null})))}function Il(t,e){el.push(e,t),Xa||(Xa=!0,Qi(97,(function(){return Nl(),null})))}function Pl(){if(null===Ka)return!1;var t=Ka;if(Ka=null,0!=(48&Da))throw Error(o(331));var e=Da;Da|=32;var n=el;el=[];for(var s=0;s<n.length;s+=2){var i=n[s],r=n[s+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===r)throw Error(o(330));Vl(r,t)}}for(n=tl,tl=[],s=0;s<n.length;s+=2){i=n[s],r=n[s+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===r)throw Error(o(330));Vl(r,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Da=e,$i(),!0}function ql(t,e,n){ur(t,e=ua(0,e=aa(n,e),1)),e=ul(),null!==(t=pl(t,1))&&(Be(t,1,e),fl(t,e))}function Vl(t,e){if(3===t.tag)ql(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ql(n,t,e);break}if(1===n.tag){var s=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Za||!Za.has(s))){var i=ha(n,t=aa(e,t),1);if(ur(n,i),i=ul(),null!==(n=pl(n,1)))Be(n,1,i),fl(n,i);else if("function"==typeof s.componentDidCatch&&(null===Za||!Za.has(s)))try{s.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Ll(t,e,n){var s=t.pingCache;null!==s&&s.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,Ma===t&&(Na&n)===n&&(4===Pa||3===Pa&&(62914560&Na)===Na&&500>Bi()-Wa?xl(t,0):ja|=n),fl(t,e)}function zl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Wi()?1:2:(0===ol&&(ol=Va),0===(e=ze(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=pl(t,e))&&(Be(t,e,n),fl(t,n))}function jl(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(t,e,n,s){return new jl(t,e,n,s)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ul(t,e){var n=t.alternate;return null===n?((n=Bl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gl(t,e,n,s,i,r){var a=2;if(s=t,"function"==typeof t)Wl(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return Ql(n.children,i,r,e);case P:a=8,i|=16;break;case T:a=8,i|=1;break;case C:return(t=Bl(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=r,t;case D:return(t=Bl(13,n,e,i)).type=D,t.elementType=D,t.lanes=r,t;case M:return(t=Bl(19,n,e,i)).elementType=M,t.lanes=r,t;case q:return $l(n,i,r,e);case V:return(t=Bl(24,n,e,i)).elementType=V,t.lanes=r,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case E:a=10;break t;case A:a=9;break t;case O:a=11;break t;case R:a=14;break t;case N:a=16,s=null;break t;case F:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Bl(a,n,e,i)).elementType=t,e.type=s,e.lanes=r,e}function Ql(t,e,n,s){return(t=Bl(7,t,s,e)).lanes=n,t}function $l(t,e,n,s){return(t=Bl(23,t,s,e)).elementType=q,t.lanes=n,t}function Hl(t,e,n){return(t=Bl(6,t,null,e)).lanes=n,t}function Yl(t,e,n){return(e=Bl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=je(0),this.expirationTimes=je(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.mutableSourceEagerHydrationData=null}function Xl(t,e,n,s){var i=e.current,r=ul(),a=hl(i);t:if(n){e:{if(Yt(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=yi(n,c,l);break t}}n=l}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=cr(r,a)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),ur(i,e),dl(i,a,r),a}function Kl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Jl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Jl(t,e),(t=t.alternate)&&Jl(t,e)}function ec(t,e,n){var s=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(t,e,null!=n&&!0===n.hydrate),e=Bl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ar(e),t[Js]=n.current,Ms(8===t.nodeType?t.parentNode:t),s)for(t=0;t<s.length;t++){var i=(e=s[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function sc(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Kl(o);a.call(t)}}Xl(e,o,t,i)}else{if(r=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,s),o=r._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Kl(o);l.call(t)}}yl((function(){Xl(e,o,t,i)}))}return Kl(o)}function ic(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(o(200));return function(t,e,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==s?null:""+s,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Qa=function(t,e,n){var s=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Po=!0;else{if(0==(n&s)){switch(Po=!1,e.tag){case 3:Qo(e),Qr();break;case 5:Fr(e);break;case 1:gi(e.type)&&bi(e);break;case 4:Rr(e,e.stateNode.containerInfo);break;case 10:s=e.memoizedProps.value;var i=e.type._context;ui(Xi,i._currentValue),i._currentValue=s;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Ko(t,e,n):(ui(Pr,1&Pr.current),null!==(e=sa(t,e,n))?e.sibling:null);ui(Pr,1&Pr.current);break;case 19:if(s=0!=(n&e.childLanes),0!=(64&t.flags)){if(s)return na(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Pr,Pr.current),s)break;return null;case 23:case 24:return e.lanes=0,jo(t,e,n)}return sa(t,e,n)}Po=0!=(16384&t.flags)}else Po=!1;switch(e.lanes=0,e.tag){case 2:if(s=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,di.current),ir(e,n),i=ro(null,e,s,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(s)){var r=!0;bi(e)}else r=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ar(e);var a=s.getDerivedStateFromProps;"function"==typeof a&&mr(e,s,a,t),i.updater=gr,e.stateNode=i,i._reactInternals=e,br(e,s,t,n),e=Go(null,e,s,!0,r,n)}else e.tag=0,qo(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"==typeof t)return Wl(t)?1:0;if(null!=t){if((t=t.$$typeof)===O)return 11;if(t===R)return 14}return 2}(i),t=Zi(i,t),r){case 0:e=Wo(null,e,i,t,n);break t;case 1:e=Uo(null,e,i,t,n);break t;case 11:e=Vo(null,e,i,t,n);break t;case 14:e=Lo(null,e,i,Zi(i.type,t),s,n);break t}throw Error(o(306,i,""))}return e;case 0:return s=e.type,i=e.pendingProps,Wo(t,e,s,i=e.elementType===s?i:Zi(s,i),n);case 1:return s=e.type,i=e.pendingProps,Uo(t,e,s,i=e.elementType===s?i:Zi(s,i),n);case 3:if(Qo(e),s=e.updateQueue,null===t||null===s)throw Error(o(282));if(s=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lr(t,e),dr(e,s,null,n),(s=e.memoizedState.element)===i)Qr(),e=sa(t,e,n);else{if((r=(i=e.stateNode).hydrate)&&(Lr=$s(e.stateNode.containerInfo.firstChild),Vr=e,r=zr=!0),r){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(r=t[i])._workInProgressVersionPrimary=t[i+1],$r.push(r);for(n=Cr(e,null,s,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else qo(t,e,s,n),Qr();e=e.child}return e;case 5:return Fr(e),null===t&&Wr(e),s=e.type,i=e.pendingProps,r=null!==t?t.memoizedProps:null,a=i.children,Ws(s,i)?a=null:null!==r&&Ws(s,r)&&(e.flags|=16),Bo(t,e),qo(t,e,a,n),e.child;case 6:return null===t&&Wr(e),null;case 13:return Ko(t,e,n);case 4:return Rr(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=Tr(e,null,s,n):qo(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,Vo(t,e,s,i=e.elementType===s?i:Zi(s,i),n);case 7:return qo(t,e,e.pendingProps,n),e.child;case 8:case 12:return qo(t,e,e.pendingProps.children,n),e.child;case 10:t:{s=e.type._context,i=e.pendingProps,a=e.memoizedProps,r=i.value;var l=e.type._context;if(ui(Xi,l._currentValue),l._currentValue=r,null!==a)if(l=a.value,0==(r=cs(l,r)?0:0|("function"==typeof s._calculateChangedBits?s._calculateChangedBits(l,r):1073741823))){if(a.children===i.children&&!pi.current){e=sa(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===s&&0!=(u.observedBits&r)){1===l.tag&&((u=cr(-1,n&-n)).tag=2,ur(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),sr(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}qo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=(r=e.pendingProps).children,ir(e,n),s=s(i=rr(i,r.unstable_observedBits)),e.flags|=1,qo(t,e,s,n),e.child;case 14:return r=Zi(i=e.type,e.pendingProps),Lo(t,e,i,r=Zi(i.type,r),s,n);case 15:return zo(t,e,e.type,e.pendingProps,s,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Zi(s,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gi(s)?(t=!0,bi(e)):t=!1,ir(e,n),vr(e,s,i),br(e,s,i,n),Go(null,e,s,!0,t,n);case 19:return na(t,e,n);case 23:case 24:return jo(t,e,n)}throw Error(o(156,e.tag))},ec.prototype.render=function(t){Xl(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xl(null,t,null,(function(){e[Js]=null}))},te=function(t){13===t.tag&&(dl(t,4,ul()),tc(t,4))},ee=function(t){13===t.tag&&(dl(t,67108864,ul()),tc(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),n=hl(t);dl(t,n,e),tc(t,n)}},se=function(t,e){return e()},Ct=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ii(s);if(!i)throw Error(o(90));X(s),nt(s,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&ot(t,!!n.multiple,e,!1)}},Rt=vl,Nt=function(t,e,n,s,i){var r=Da;Da|=4;try{return Gi(98,t.bind(null,e,n,s,i))}finally{0===(Da=r)&&(Ga(),$i())}},Ft=function(){0==(49&Da)&&(function(){if(null!==nl){var t=nl;nl=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,fl(t,Bi())}))}$i()}(),Nl())},It=function(t,e){var n=Da;Da|=2;try{return t(e)}finally{0===(Da=n)&&(Ga(),$i())}};var rc={Events:[ni,si,ii,Dt,Mt,Nl,{current:!1}]},oc={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(ac),ki=lc}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rc,e.createPortal=ic,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Da;if(0!=(48&n))return t(e);Da|=1;try{if(t)return Gi(99,t.bind(null,e))}finally{Da=n,$i()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(o(200));return sc(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(o(200));return sc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(o(40));return!!t._reactRootContainer&&(yl((function(){sc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Js]=null}))})),!0)},e.unstable_batchedUpdates=vl,e.unstable_createPortal=function(t,e){return ic(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!nc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return sc(t,e,n,!1,s)},e.version="17.0.2"},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},408:(t,e,n)=>{"use strict";var s=n(418),i=60103,r=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,a=60110,l=60112;e.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),r=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function _(){}function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=g.prototype;var y=v.prototype=new _;y.constructor=v,s(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var s,r={},o=null,a=null;if(null!=e)for(s in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,s)&&!x.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:t,key:o,ref:a,props:r,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function E(t,e,n,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case r:l=!0}}if(l)return o=o(l=t),t=""===s?"."+C(l,0):s,Array.isArray(o)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),E(o,e,n,"",(function(t){return t}))):null!=o&&(S(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=s+C(a=t[c],c);l+=E(a,e,n,u,o)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=E(a=a.value,e,n,u=s+C(a,c++),o);else if("object"===a)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function A(t,e,n){if(null==t)return t;var s=[],i=0;return E(t,s,"","",(function(t){return e.call(n,t,i++)})),s}function O(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var D={current:null};function M(){var t=D.current;if(null===t)throw Error(p(321));return t}var R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:s};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var r=s({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)w.call(e,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==c?c[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:i,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return M().useCallback(t,e)},e.useContext=function(t,e){return M().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return M().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return M().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return M().useLayoutEffect(t,e)},e.useMemo=function(t,e){return M().useMemo(t,e)},e.useReducer=function(t,e,n){return M().useReducer(t,e,n)},e.useRef=function(t){return M().useRef(t)},e.useState=function(t){return M().useState(t)},e.version="17.0.2"},294:(t,e,n)=>{"use strict";t.exports=n(408)},53:(t,e)=>{"use strict";var n,s,i,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(h,0))},s=function(t,e){u=setTimeout(t,e)},i=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},r=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,_=-1,v=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},r=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();y=t+v;try{g(!0,t)?w.postMessage(null):(m=!1,g=null)}catch(t){throw w.postMessage(null),t}}else m=!1},n=function(t){g=t,m||(m=!0,w.postMessage(null))},s=function(t,n){_=d((function(){t(e.unstable_now())}),n)},i=function(){p(_),_=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var s=n-1>>>1,i=t[s];if(!(void 0!==i&&0<T(i,e)))break t;t[s]=e,t[n]=i,n=s}}function k(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var s=0,i=t.length;s<i;){var r=2*(s+1)-1,o=t[r],a=r+1,l=t[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(t[s]=l,t[a]=n,s=a):(t[s]=o,t[r]=n,s=r);else{if(!(void 0!==l&&0>T(l,n)))break t;t[s]=l,t[a]=n,s=a}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],E=[],A=1,O=null,D=3,M=!1,R=!1,N=!1;function F(t){for(var e=k(E);null!==e;){if(null===e.callback)S(E);else{if(!(e.startTime<=t))break;S(E),e.sortIndex=e.expirationTime,x(C,e)}e=k(E)}}function I(t){if(N=!1,F(t),!R)if(null!==k(C))R=!0,n(P);else{var e=k(E);null!==e&&s(I,e.startTime-t)}}function P(t,n){R=!1,N&&(N=!1,i()),M=!0;var r=D;try{for(F(n),O=k(C);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var o=O.callback;if("function"==typeof o){O.callback=null,D=O.priorityLevel;var a=o(O.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?O.callback=a:O===k(C)&&S(C),F(n)}else S(C);O=k(C)}if(null!==O)var l=!0;else{var c=k(E);null!==c&&s(I,c.startTime-n),l=!1}return l}finally{O=null,D=r,M=!1}}var q=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||M||(R=!0,n(P))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return k(C)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,r,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:A++,callback:r,priorityLevel:t,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(t.sortIndex=o,x(E,t),null===k(C)&&t===k(E)&&(N?i():N=!0,s(I,o-a))):(t.sortIndex=l,x(C,t),R||M||(R=!0,n(P))),t},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},o=[],a=0;a<t.length;a++){var l=t[a],c=s.base?l[0]+s.base:l[0],u=r[c]||0,h="".concat(c," ").concat(u);r[c]=u+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=i(p,s);s.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=n(r[o]);e[a].references--}for(var l=s(t,i),c=0;c<r.length;c++){var u=n(r[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},897:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s},t.exports.__esModule=!0,t.exports.default=t.exports},372:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},728:(t,e,n)=>{var s=n(62);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},872:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r,o,a=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},218:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},424:(t,e,n)=>{var s=n(372),i=n(872),r=n(116),o=n(218);t.exports=function(t,e){return s(t)||i(t,e)||r(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},36:(t,e,n)=>{var s=n(698).default;t.exports=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},62:(t,e,n)=>{var s=n(698).default,i=n(36);t.exports=function(t){var e=i(t,"string");return"symbol"===s(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},116:(t,e,n)=>{var s=n(897);t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var t={};n.r(t),n.d(t,{assert:()=>Ks,assertContextRunning:()=>ti,assertRange:()=>Js,log:()=>si,setLogger:()=>ni,warn:()=>ii});var e={};n.r(e);var s={};n.r(s),n.d(s,{AMOscillator:()=>lo,AMSynth:()=>jo,Abs:()=>To,Add:()=>go,AmplitudeEnvelope:()=>Vo,Analyser:()=>cl,AudioToGain:()=>oo,AutoFilter:()=>Ca,AutoPanner:()=>Aa,AutoWah:()=>Da,BaseContext:()=>Bi,BiquadFilter:()=>Bo,BitCrusher:()=>Ra,Buffer:()=>Wl,BufferSource:()=>Gl,Buffers:()=>Ul,Channel:()=>_l,Chebyshev:()=>Fa,Chorus:()=>La,Clock:()=>Mr,Compressor:()=>kl,Context:()=>Wi,Convolver:()=>Ol,CrossFade:()=>ka,DCMeter:()=>pl,Delay:()=>Rr,Destination:()=>Fl,Distortion:()=>za,Draw:()=>Ll,DuoSynth:()=>Qo,EQ3:()=>Al,Emitter:()=>ji,Envelope:()=>Fo,FFT:()=>dl,FMOscillator:()=>co,FMSynth:()=>$o,FatOscillator:()=>ho,FeedbackCombFilter:()=>sa,FeedbackDelay:()=>Ba,Filter:()=>Wo,Follower:()=>Oa,Freeverb:()=>$a,Frequency:()=>pr,FrequencyClass:()=>ur,FrequencyEnvelope:()=>Uo,FrequencyShifter:()=>Ua,Gain:()=>kr,GainToAudio:()=>Co,Gate:()=>Sl,GrainPlayer:()=>So,GreaterThan:()=>Do,GreaterThanZero:()=>Oo,IntervalTimeline:()=>zr,JCReverb:()=>Xa,LFO:()=>yo,Limiter:()=>Tl,Listener:()=>ql,Loop:()=>ua,LowpassCombFilter:()=>ra,Master:()=>Il,MembraneSynth:()=>Zo,Merge:()=>Pa,MetalSynth:()=>Yo,Meter:()=>hl,MidSideCompressor:()=>Cl,MidSideMerge:()=>il,MidSideSplit:()=>sl,Midi:()=>Pr,MidiClass:()=>Ir,Mono:()=>vl,MonoSynth:()=>Go,MultibandCompressor:()=>El,MultibandSplit:()=>yl,Multiply:()=>ao,Negate:()=>Eo,Noise:()=>Zr,NoiseSynth:()=>Xo,Offline:()=>Nr,OfflineContext:()=>Hi,OmniOscillator:()=>mo,OnePoleFilter:()=>ia,Oscillator:()=>so,PWMOscillator:()=>po,PanVol:()=>gl,Panner:()=>Ea,Panner3D:()=>wl,Param:()=>vr,Part:()=>ha,Pattern:()=>wa,Phaser:()=>el,PingPongDelay:()=>Ja,PitchShift:()=>tl,Player:()=>xo,Players:()=>ko,PluckSynth:()=>oa,PolySynth:()=>aa,Pow:()=>Mo,PulseOscillator:()=>uo,Recorder:()=>xl,Reverb:()=>nl,Sampler:()=>la,Scale:()=>_o,ScaleExp:()=>Ro,Sequence:()=>xa,Signal:()=>Cr,Solo:()=>ml,Split:()=>Ia,StateTimeline:()=>_r,StereoWidener:()=>ol,Subtract:()=>Ao,SyncedSignal:()=>No,Synth:()=>Lo,Ticks:()=>Vr,TicksClass:()=>qr,Time:()=>cr,TimeClass:()=>lr,Timeline:()=>Pi,ToneAudioBuffer:()=>$i,ToneAudioBuffers:()=>Fr,ToneAudioNode:()=>yr,ToneBufferSource:()=>Yr,ToneEvent:()=>ca,ToneOscillatorNode:()=>no,Transport:()=>Rl,TransportTime:()=>mr,TransportTimeClass:()=>fr,Tremolo:()=>al,Unit:()=>e,UserMedia:()=>to,Vibrato:()=>ll,Volume:()=>Br,WaveShaper:()=>ro,Waveform:()=>fl,Zero:()=>vo,connect:()=>wr,connectSeries:()=>br,connectSignal:()=>Er,context:()=>jl,dbToGain:()=>tr,debug:()=>t,defaultArg:()=>Ei,disconnect:()=>xr,ftom:()=>ir,gainToDb:()=>er,getContext:()=>Xi,getDestination:()=>Pl,getDraw:()=>zl,getListener:()=>Vl,getTransport:()=>Nl,immediate:()=>Ml,intervalToFrequencyRatio:()=>nr,isArray:()=>hi,isBoolean:()=>ui,isDefined:()=>oi,isFunction:()=>ai,isNote:()=>pi,isNumber:()=>li,isObject:()=>ci,isString:()=>di,isUndef:()=>ri,loaded:()=>Bl,mtof:()=>or,now:()=>Dl,optionsFromArguments:()=>Ci,setContext:()=>Ki,start:()=>Ji,supported:()=>Xs,version:()=>x});var i=n(294),r=n(935),o=n(379),a=n.n(o),l=n(795),c=n.n(l),u=n(569),h=n.n(u),d=n(565),p=n.n(d),f=n(216),m=n.n(f),g=n(589),_=n.n(g),v=n(996),y={};function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}y.styleTagTransform=_(),y.setAttributes=p(),y.insert=h().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=m(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;const w=function(t){var e,n,s=t.onChange,r=(e=(0,i.useState)(-12),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r,o,a=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];return i.createElement(i.Fragment,null,i.createElement("div",{className:"py-2 px-3 mt-1"},i.createElement("label",{className:"text-2xl font-bold text-sec"},"Volume:")),i.createElement("div",{className:"text-sec py-1"},i.createElement("input",{type:"range",min:"-60",max:"-1",step:"0.1",value:o,onChange:function(t){var e=parseFloat(t.target.value);console.log("Slider Value:",t.target.value,"Parsed Value:",e),a(e),s(e)},className:"ml-3 pr-6 pl-2"})))},x="14.7.77";var k=n(382);const S=new WeakSet,T=new WeakMap,C=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,R=new WeakMap,N=new WeakMap,F={construct:()=>F},I=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,P=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),i=s.match(I);for(;null!==i;){const t=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(I)}return[n.join(";"),s]},q=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},V=t=>{if(!(t=>{try{new new Proxy(t,F)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},L=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},z=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},j=(t,e,n,s)=>{const i=L(t,e),r=z(i,(t=>t[0]===n&&t[1]===s));return 0===i.size&&t.delete(e),r},B=t=>L(D,t),W=t=>{if(S.has(t))throw new Error("The AudioNode is already stored.");S.add(t),B(t).forEach((t=>t(!0)))},U=t=>"port"in t,G=t=>{if(!S.has(t))throw new Error("The AudioNode is not stored.");S.delete(t),B(t).forEach((t=>t(!1)))},Q=(t,e)=>{!U(t)&&e.every((t=>0===t.size))&&G(t)},$={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},H=(t,e)=>t.context===e,Y=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Z=()=>new DOMException("","IndexSizeError"),X=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw Z();throw t}})},K={numberOfChannels:1},J=-34028234663852886e22,tt=-J,et=t=>S.has(t),nt={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},st=t=>L(T,t),it=t=>L(E,t),rt=(t,e)=>{const{activeInputs:n}=st(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||rt(n,[...e,t])}))));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:U(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of s){const n=it(t);void 0!==n&&n.activeInputs.forEach((([t])=>rt(t,e)))}et(t)&&G(t)},ot=t=>{rt(t.destination,[])},at=t=>"context"in t,lt=t=>at(t[0]),ct=(t,e,n,s)=>{for(const e of t)if(n(e)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},ut=(t,e,[n,s],i)=>{ct(t,[e,n,s],(t=>t[0]===e&&t[1]===n),i)},ht=(t,[e,n,s],i)=>{const r=t.get(e);void 0===r?t.set(e,new Set([[n,s]])):ct(r,[n,s],(t=>t[0]===n),i)},dt=t=>"inputs"in t,pt=(t,e,n,s)=>{if(dt(e)){const i=e.inputs[s];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,s),[e,n,s]},ft=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},mt=(t,e)=>{if(!B(t).delete(e))throw new Error("Missing the expected event listener.")},gt=(t,e,n)=>{const s=L(t,e),i=z(s,(t=>t[0]===n));return 0===s.size&&t.delete(e),i},_t=(t,e,n,s)=>{dt(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},vt=t=>L(C,t),yt=t=>L(A,t),bt=t=>M.has(t),wt=t=>!S.has(t),xt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(e).connect(t.destination),o.connect(s),o.disconnect(s),e.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(t.destination)},o.start()}})),kt=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},St=t=>"context"in t,Tt=t=>{const e=new Map;t.connect=(t=>(n,s=0,i=0)=>{const r=St(n)?t(n,s,i):t(n,s),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:s}]):o.every((t=>t.input!==i||t.output!==s))&&o.push({input:i,output:s}),r})(t.connect.bind(t)),t.disconnect=(n=>(s,i,r)=>{if(n.apply(t),void 0===s)e.clear();else if("number"==typeof s)for(const[t,n]of e){const i=n.filter((t=>t.output!==s));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(s))if(void 0===i)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==r||void 0===r)));0===n.length?e.delete(s):e.set(s,n)}}for(const[n,s]of e)s.forEach((e=>{St(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},Ct=(t,e,n,s,i)=>{const[r,o]=((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=st(e),o=ft(i[s],t,n);return null===o?[j(r,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,i);if(null!==r&&(mt(t,r),!o||e||bt(t)||_t(vt(t),vt(n),s,i)),et(n)){const{activeInputs:t}=st(n);Q(n,t)}},Et=(t,e,n,s)=>{const[i,r]=((t,e,n)=>{const{activeInputs:s,passiveInputs:i}=it(e),r=ft(s,t,n);return null===r?[gt(i,t,n)[1],!1]:[r[2],!0]})(t,n,s);null!==i&&(mt(t,i),!r||e||bt(t)||vt(t).disconnect(yt(n),s))};class At{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,s)=>t.call(e,n,s,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ot={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Dt(t,e,n,s,i){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,i);else{const r=t.getChannelData(s);if(0===e[n].byteLength)e[n]=r.slice(i,i+128);else{const t=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Mt=(t,e,n,s,i)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,i):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],i)},Rt=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],i="number"==typeof e?e:e[s];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Nt=async(t,e,n,s,i,r,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=s.channelCount*s.numberOfInputs,c=i.reduce(((t,e)=>t+e),0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=st(t),d=await((t,e)=>{const n=L(N,t),s=vt(e);return L(n,s)})(n,t),p=Rt(s.numberOfInputs,s.channelCount),f=Rt(s.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<a;c+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)Dt(e,p[t],n,n,c);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach((({name:t},n)=>{Dt(e,m,t,l+n,c)}));for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(c/n.sampleRate,n.sampleRate,(()=>d.process(t,f,m)));if(null!==u)for(let t=0,e=0;t<s.numberOfOutputs;t+=1){for(let n=0;n<i[t];n+=1)Mt(u,f[t],n,e+n,c);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return u},Ft={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},It={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Pt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},qt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Vt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Lt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((s=>{const i=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}}))},zt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},jt=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},Bt={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ut=()=>new DOMException("","InvalidStateError"),Gt=()=>new DOMException("","InvalidAccessError"),Qt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},$t=(t,e,n,s,i,r,o,a,l,c,u)=>{const h=c.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<i;e+=1){const s=d-e&l-1;h+=n[e]*r[s],h-=t[e]*o[s]}for(let t=i;t<s;t+=1)h+=n[t]*r[d-t&l-1];for(let n=i;n<e;n+=1)h-=t[n]*o[d-n&l-1];r[d]=c[a],o[d]=h,d=d+1&l-1,u[a]=h}return d},Ht={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Yt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Zt=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},Xt=(t,e)=>{Zt(t,e,"channelCount"),Zt(t,e,"channelCountMode"),Zt(t,e,"channelInterpretation")},Kt=t=>"function"==typeof t.getFloatTimeDomainData,Jt=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},te=t=>{t.start=(e=>(n=0,s=0,i)=>{if("number"==typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,i)})(t.start)},ee=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},ne=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),se=(t,e)=>{const n=t.createBiquadFilter();return Xt(n,e),Jt(n,e,"Q"),Jt(n,e,"detune"),Jt(n,e,"frequency"),Jt(n,e,"gain"),Zt(n,e,"type"),n},ie=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Xt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ut()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ut()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ut()}})})(n),n},re=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),oe=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Xt(n,e),Jt(n,e,"delayTime"),n},ae=(t,e)=>{const n=t.createGain();return Xt(n,e),Jt(n,e,"gain"),n};function le(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ce(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)i=e,n=[(s=n)[0]*i[0]-s[1]*i[1],s[0]*i[1]+s[1]*i[0]],n[0]+=t[r];var s,i;return n}const ue=(t,e,n,s)=>t.createScriptProcessor(e,n,s),he=()=>new DOMException("","NotSupportedError"),de={numberOfChannels:1},pe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},fe={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},me={disableNormalization:!1},ge={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},_e=()=>new DOMException("","UnknownError"),ve={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ye=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),be=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},we=(t,e,n,s)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(r),set:s(o)})},xe=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;xe(t,e,n+1e-7)}},ke=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Se=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Te=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},Ce=()=>{try{new DOMException}catch{return!1}return!0},Ee=()=>new Promise((t=>{const e=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),s.postMessage(e,[e])})),Ae=(t,e)=>{const n=e.createGain();t.connect(n);const s=(e=>()=>{e.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),re(t,n),t.stop=(e=>{let s=!1;return(i=0)=>{if(s)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),s=!0}})(t.stop)},Oe=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},De=(t=>(e,n,[s,i,r],o)=>{t(e[i],[n,s,r],(t=>t[0]===n&&t[1]===s),o)})(ct),Me=(t=>(e,n,[s,i,r],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[i,n,r]])):t(a,[i,n,r],(t=>t[0]===i&&t[1]===n),o)})(ct),Re=(t=>(e,n,s,i)=>t(e[i],(t=>t[0]===n&&t[1]===s)))(z),Ne=new WeakMap,Fe=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(Ne),Ie=(Pe=new Map,qe=new WeakMap,(t,e)=>{const n=qe.get(t);if(void 0!==n)return n;const s=Pe.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(Pe.set(t,n),n.catch((()=>!1)).then((e=>(Pe.delete(t),qe.set(t,e),e)))):(qe.set(t,n),n)}catch{return qe.set(t,!1),!1}});var Pe,qe;const Ve="undefined"==typeof window?null:window,Le=((t,e)=>(n,s)=>{const i=n.createAnalyser();if(Xt(i,s),!(s.maxDecibels>s.minDecibels))throw e();return Zt(i,s,"fftSize"),Zt(i,s,"maxDecibels"),Zt(i,s,"minDecibels"),Zt(i,s,"smoothingTimeConstant"),t(Kt,(()=>Kt(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Ie,Z),ze=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(st),je=((t,e,n)=>async(s,i,r)=>{const o=t(s);await Promise.all(o.activeInputs.map(((t,o)=>Array.from(t).map((async([t,a])=>{const l=e(t),c=await l.render(t,i),u=s.context.destination;n(t)||s===u&&n(s)||c.connect(r,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(st,ze,bt),Be=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!H(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(Le,vt,je),We=(Ue=O,t=>{const e=Ue.get(t);if(void 0===e)throw Ut();return e});var Ue;const Ge=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Ve),Qe=(t=>e=>null!==t&&e instanceof t)(Ge),$e=new WeakMap,He=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}})(Oe),Ye=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Ve),Ze=(t=>e=>null!==t&&e instanceof t)(Ye),Xe=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(Ve),Ke=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(Ve),Je=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Ve),tn=((t,e,n,s,i,r,o,a,l,c,u,h,d,p,f,m)=>class extends c{constructor(e,s,i,r){super(i),this._context=e,this._nativeAudioNode=i;const o=u(e);h(o)&&!0!==n(xt,(()=>xt(o,m)))&&Tt(i),C.set(this,i),D.set(this,new Set),"closed"!==e.state&&s&&W(this),t(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const c=u(this._context),h=f(c);if(d(t)||p(t))throw r();if(at(t)){const i=vt(t);try{const e=pt(this._nativeAudioNode,i,n,a),s=wt(this);(h||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&wt(t)&&W(t)}catch(t){if(12===t.code)throw r();throw t}if(e(this,t,n,a,h)){const e=l([this],t);kt(e,s(h))}return t}const m=yt(t);if("playbackRate"===m.name&&1024===m.maxValue)throw o();try{this._nativeAudioNode.connect(m,n),(h||wt(this))&&this._nativeAudioNode.disconnect(m,n)}catch(t){if(12===t.code)throw r();throw t}if(((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=it(e),{outputs:o}=st(t),a=B(t),l=o=>{const a=vt(t),l=yt(e);if(o){const e=gt(r,t,n);ut(i,t,e,!1),s||bt(t)||a.connect(l,n)}else{const e=((t,e,n)=>z(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);ht(r,e,!1),s||bt(t)||a.disconnect(l,n)}};return!!ct(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),et(t)?ut(i,t,[n,l],!0):ht(r,[t,n,l],!0),!0)})(this,t,n,h)){const e=l([this],t);kt(e,s(h))}}disconnect(t,e,n){let s;const o=u(this._context),c=f(o);if(void 0===t)s=((t,e)=>{const n=st(t),s=[];for(const i of n.outputs)lt(i)?Ct(t,e,...i):Et(t,e,...i),s.push(i[0]);return n.outputs.clear(),s})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();s=((t,e,n)=>{const s=st(t),i=[];for(const r of s.outputs)r[1]===n&&(lt(r)?Ct(t,e,...r):Et(t,e,...r),i.push(r[0]),s.outputs.delete(r));return i})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(at(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(s=((t,e,n,s,i)=>{const r=st(t);return Array.from(r.outputs).filter((t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==i&&t[2]!==i))).map((n=>(lt(n)?Ct(t,e,...n):Et(t,e,...n),r.outputs.delete(n),n[0])))})(this,c,t,e,n),0===s.length)throw r()}for(const t of s){const e=l([this],t);kt(e,a)}}})((en=T,(t,e,n)=>{const s=[];for(let t=0;t<n.numberOfInputs;t+=1)s.push(new Set);en.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,s,i,r,o,a,l,c,u,h,d)=>{const p=new WeakMap;return(f,m,g,_,v)=>{const{activeInputs:y,passiveInputs:b}=r(m),{outputs:w}=r(f),x=a(f),k=r=>{const a=l(m),c=l(f);if(r){const e=j(b,f,g,_);t(y,f,e,!1),v||h(f)||n(c,a,g,_),d(m)&&W(m)}else{const t=s(y,f,g,_);e(b,_,t,!1),v||h(f)||i(c,a,g,_);const n=o(m);if(0===n)u(m)&&Q(m,y);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout((()=>{u(m)&&Q(m,y)}),1e3*n))}}};return!!c(w,[m,g,_],(t=>t[0]===m&&t[1]===g&&t[2]===_),!0)&&(x.add(k),u(f)?t(y,f,[g,_,k],!0):e(b,_,[f,g,k],!0),!0)}})(De,Me,pt,Re,_t,st,Fe,B,vt,ct,et,bt,wt),Ie,((t,e,n,s,i,r)=>o=>(a,l)=>{const c=t.get(a);if(void 0===c){if(!o&&r(a)){const t=s(a),{outputs:r}=n(a);for(const n of r)if(lt(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,c+l)})(M,_t,st,vt,yt,et),Z,Gt,he,((t,e,n,s,i,r,o,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(u===c){if(e.delete(l),!d&&o(l)){const e=s(l),{outputs:r}=n(l);for(const n of r)if(lt(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)})(pt,M,st,vt,yt,We,et,Qe),((t,e,n)=>function s(i,r){const o=at(r)?r:n(t,r);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>s([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})($e,st,L),He,We,Ze,Xe,Ke,Qe,Je);var en;const nn=((t,e,n,s,i,r)=>class extends t{constructor(t,n){const o=i(t),a={...$,...n},l=s(o,a);super(t,!1,l,r(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(tn,Be,Z,Le,We,Qe),sn=new WeakSet,rn=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Ve),on=(an=new Uint32Array(1),t=>(an[0]=t,an[0]));var an;const ln=((t,e)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)s[t]=c[t+o]},n.copyToChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)c[t+o]=s[t]}})(on,Z),cn=(t=>e=>{e.copyFromChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(on),un=((t,e,n,s,i,r,o,a)=>{let l=null;return class c{constructor(c){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...K,...c};null===l&&(l=new i(1,1,44100));const p=null!==s&&e(r,r)?new s({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),X(p)):e(Y,(()=>Y(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(sn,Ie,he,rn,Ge,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(rn),ln,cn),hn=(t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)})(ae),dn=((t,e,n)=>async(s,i,r)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map((async([e,s])=>{const o=t(e),a=await o.render(e,i);n(e)||a.connect(r,s)})))})(ze,it,bt),pn=(t=>(e,n,s)=>t(n,e,s))(dn),fn=((t,e,n,s,i,r,o,a,l,c,u)=>(l,h)=>{const d=l.createBufferSource();return Xt(d,h),Jt(d,h,"playbackRate"),Zt(d,h,"buffer"),Zt(d,h,"loop"),Zt(d,h,"loopEnd"),Zt(d,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Ut();e.call(t,s,i,r),n=!0}})(t.start)})(d),e(s,(()=>s(l)))||(t=>{t.start=(e=>(n=0,s=0,i)=>{const r=t.buffer,o=null===r?s:Math.min(r.duration,s);null!==r&&o>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)})(d),e(i,(()=>i(l)))||c(d,l),e(r,(()=>r(l)))||te(d),e(o,(()=>o(l)))||u(d,l),e(a,(()=>a(l)))||ee(d),t(l,d),d})(hn,Ie,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),ke,Se,Te,0,(t=>(e,n)=>{const s=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===s?null:n}),(t=>n=>t.call(e,null===n?s:n)))})(we),Ae),mn=((t,e)=>(n,s,i)=>(t(s).replay(i),e(s,n,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(it),dn),gn=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c){const u=r.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=H(u,c);if(!h){const t={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(c,t),null!==o&&u.start(...o),null!==a&&u.stop(a)}return r.set(c,u),h?await t(c,l.playbackRate,u.playbackRate):await s(c,l.playbackRate,u.playbackRate),await i(l,c,u),u})(l,c)}}})(pn,fn,vt,mn,je),_n=((t,e,n,s,i,r,o,a,l,c,u,h,d)=>(s,p,f,m=null,g=null)=>{const _=f.value,v=new k.AutomationEventList(_),y=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:i}=n;e.setTargetAtTime(s,t,i)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,t)}}}}))(v):null,b={get defaultValue(){return _},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===g?f.minValue:g},get value(){return f.value},set value(t){f.value=t,b.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof f.cancelAndHoldAtTime)null===y&&v.flush(s.context.currentTime),v.add(i(t)),f.cancelAndHoldAtTime(t);else{const e=Array.from(v).pop();null===y&&v.flush(s.context.currentTime),v.add(i(t));const n=Array.from(v).pop();f.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:t=>(null===y&&v.flush(s.context.currentTime),v.add(r(t)),f.cancelScheduledValues(t),b),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=s.context.currentTime;return null===y&&v.flush(n),0===Array.from(v).length&&(v.add(c(_,n)),f.setValueAtTime(_,n)),v.add(o(t,e)),f.exponentialRampToValueAtTime(t,e),b},linearRampToValueAtTime(t,e){const n=s.context.currentTime;return null===y&&v.flush(n),0===Array.from(v).length&&(v.add(c(_,n)),f.setValueAtTime(_,n)),v.add(a(t,e)),f.linearRampToValueAtTime(t,e),b},setTargetAtTime:(t,e,n)=>(null===y&&v.flush(s.context.currentTime),v.add(l(t,e,n)),f.setTargetAtTime(t,e,n),b),setValueAtTime:(t,e)=>(null===y&&v.flush(s.context.currentTime),v.add(c(t,e)),f.setValueAtTime(t,e),b),setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,r=s.context.sampleRate,o=Math.ceil(e*r),a=Math.floor(t*r),l=a-o,c=new Float32Array(l);for(let t=0;t<l;t+=1){const s=(i.length-1)/n*((o+t)/r-e),a=Math.floor(s),l=Math.ceil(s);c[t]=a===l?i[a]:(1-(s-a))*i[a]+(1-(l-s))*i[l]}null===y&&v.flush(s.context.currentTime),v.add(u(c,e,n)),f.setValueCurveAtTime(c,e,n);const h=a/r;h<t&&d(b,c[c.length-1],h),d(b,i[i.length-1],t)}else null===y&&v.flush(s.context.currentTime),v.add(u(i,e,n)),f.setValueCurveAtTime(i,e,n);return b}};return n.set(b,f),e.set(b,s),t(b,y),b})((vn=E,(t,e)=>{vn.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),$e,A,0,k.createCancelAndHoldAutomationEvent,k.createCancelScheduledValuesAutomationEvent,k.createExponentialRampToValueAutomationEvent,k.createLinearRampToValueAutomationEvent,k.createSetTargetAutomationEvent,k.createSetValueAutomationEvent,k.createSetValueCurveAutomationEvent,Ye,xe);var vn;const yn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const a=r(t),l={...nt,...s},c=i(a,l),u=o(a),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,tt,J)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){W(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),et(this)&&G(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(tn,gn,_n,Ut,fn,We,Qe,Oe),bn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,e){const n=r(t),s=o(n),l=i(n,e,s);super(t,!1,l,s?(t=>{const e=new WeakMap;return{render(n,s){const i=e.get(s);return void 0!==i?Promise.resolve(i):(async(n,s)=>{const i=s.destination;return e.set(s,i),await t(n,s,i),i})(n,s)}}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(tn,0,Z,Ut,((t,e)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{r.channelCount=e}catch(t){if(e>r.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(ae,we),We,Qe,je),wn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=H(l,a);if(!c){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return r.set(a,l),c?(await t(a,o.Q,l.Q),await t(a,o.detune,l.detune),await t(a,o.frequency,l.frequency),await t(a,o.gain,l.gain)):(await s(a,o.Q,l.Q),await s(a,o.detune,l.detune),await s(a,o.frequency,l.frequency),await s(a,o.gain,l.gain)),await i(o,a,l),l})(o,a)}}})(pn,se,vt,mn,je),xn=(t=>(e,n)=>t.set(e,n))(Ne),kn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const l=r(t),c={...Ft,...s},u=i(l,c),h=o(l);super(t,!1,u,h?n():null),this._Q=e(this,h,u.Q,tt,J),this._detune=e(this,h,u.detune,1200*Math.log2(tt),-1200*Math.log2(tt)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10(tt),J),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw s();throw t}if(t.length!==e.length||e.length!==n.length)throw s()}})(tn,_n,wn,Gt,se,We,Qe,xn),Sn=((t,e)=>(n,s,i)=>{const r=new Set;return n.connect=(i=>(o,a=0,l=0)=>{const c=0===r.size;if(e(o))return i.call(n,o,a,l),t(r,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),c&&s(),o;i.call(n,o,a),t(r,[o,a],(t=>t[0]===o&&t[1]===a),!0),c&&s()})(n.connect),n.disconnect=(t=>(s,o,a)=>{const l=r.size>0;if(void 0===s)t.apply(n),r.clear();else if("number"==typeof s){t.call(n,s);for(const t of r)t[1]===s&&r.delete(t)}else{e(s)?t.call(n,s,o,a):t.call(n,s,o);for(const t of r)t[0]!==s||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||r.delete(t)}const c=0===r.size;l&&c&&i()})(n.disconnect),n})(ct,Xe),Tn=((t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(s,(()=>{const t=s.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(s,0,e)}),(()=>i.disconnect(s)))})(Ut,Sn),Cn=((t,e)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),Xt(i,s),i})(Ye,Tn),En=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!H(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(Cn,vt,je),An=((t,e,n,s,i)=>class extends t{constructor(t,r){const o=s(t),a={...It,...r};super(t,!1,n(o,a),i(o)?e():null)}})(tn,En,Cn,We,Qe),On=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!H(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(ie,vt,je),Dn=((t,e,n,s,i,r)=>class extends t{constructor(t,r){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...Pt,...r});super(t,!1,n(o,a),i(o)?e():null)}})(tn,On,ie,We,Qe),Mn=((t,e,n,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...o,gain:r}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(i,l),s(re(h,c),(()=>l.connect(c)),(()=>l.disconnect(c)))})(hn,fn,ae,Sn),Rn=((t,e,n,s,i)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return Xt(a,o),Jt(a,o,"offset"),e(s,(()=>s(r)))||te(a),e(i,(()=>i(r)))||ee(a),t(r,a),a})(hn,Ie,Mn,ke,Te),Nn=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c){const u=r.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=H(u,c);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(c,t),null!==o&&u.start(o),null!==a&&u.stop(a)}return r.set(c,u),h?await t(c,l.offset,u.offset):await s(c,l.offset,u.offset),await i(l,c,u),u})(l,c)}}})(pn,Rn,vt,mn,je),Fn=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={...qt,...o},c=s(a,l),u=r(a),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,tt,J),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){W(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),et(this)&&G(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(tn,_n,Nn,Rn,We,Qe,Oe),In=((t,e)=>(n,s)=>{const i=n.createConvolver();if(Xt(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),Zt(i,s,"buffer"),s.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===s.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(he,we),Pn=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!H(o,r)){const e={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(r,e)}return s.set(r,o),dt(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o})(i,r)}}})(In,vt,je),qn=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l={...Vt,...o},c=n(a,l);super(t,!1,c,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(tn,Pn,In,We,Qe,xn),Vn=((t,e,n,s,i)=>r=>{const o=new WeakMap;return{render(a,l){const c=o.get(l);return void 0!==c?Promise.resolve(c):(async(a,l)=>{let c=n(a);const u=H(c,l);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:r};c=e(l,t)}return o.set(l,c),u?await t(l,a.delayTime,c.delayTime):await s(l,a.delayTime,c.delayTime),await i(a,l,c),c})(a,l)}}})(pn,oe,vt,mn,je),Ln=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),c={...zt,...a},u=s(l,c),h=r(l);super(t,!1,u,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(tn,_n,Vn,oe,We,Qe,xn),zn=(t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Xt(s,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Jt(s,n,"attack"),Jt(s,n,"knee"),Jt(s,n,"ratio"),Jt(s,n,"release"),Jt(s,n,"threshold"),s})(he),jn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=H(l,a);if(!c){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return r.set(a,l),c?(await t(a,o.attack,l.attack),await t(a,o.knee,l.knee),await t(a,o.ratio,l.ratio),await t(a,o.release,l.release),await t(a,o.threshold,l.threshold)):(await s(a,o.attack,l.attack),await s(a,o.knee,l.knee),await s(a,o.ratio,l.ratio),await s(a,o.release,l.release),await s(a,o.threshold,l.threshold)),await i(o,a,l),l})(o,a)}}})(pn,zn,vt,mn,je),Bn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,i){const l=r(t),c={...Bt,...i},u=s(l,c),h=o(l);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(tn,_n,jn,zn,he,We,Qe,xn),Wn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=H(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return r.set(a,l),c?await t(a,o.gain,l.gain):await s(a,o.gain,l.gain),await i(o,a,l),l})(o,a)}}})(pn,ae,vt,mn,je),Un=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...Wt,...o},c=s(a,l),u=r(a);super(t,!1,c,u?n():null),this._gain=e(this,u,c.gain,tt,J)}get gain(){return this._gain}})(tn,_n,Wn,ae,We,Qe),Gn=((t,e,n,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=ne(r,i.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw e();if(0===m||m>20)throw s();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const _=n(i,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=l;const v=[],y=[],b=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),b.push(e)}_.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let t=0;t<s;t+=1){const s=e.getChannelData(t),i=n.getChannelData(t);v[t]=$t(d,f,p,m,g,y[t],b[t],v[t],32,s,i)}};const w=i.sampleRate/2;return re({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(t){_.channelCount=t},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){_.channelCountMode=t},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(t){_.channelInterpretation=t},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...t)=>_.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>_.dispatchEvent(t[0]),getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),r=[Math.cos(i),Math.sin(i)],o=le(ce(p,r),ce(d,r));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>_.removeEventListener(t[0],t[1],t[2])},_)})(Gt,Ut,ue,he),Qn=((t,e,n,s)=>i=>t(Yt,(()=>Yt(i)))?Promise.resolve(t(s,s)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Ie,ae,ue,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(ae,Ge)),$n=((t,e,n,s,i)=>(r,o)=>{const a=new WeakMap;let l=null;return{render(c,u){const h=a.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=null,d=e(c);const p=H(d,u);if(void 0===u.createIIRFilter?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=u.createIIRFilter(o,r)),a.set(u,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>(await s(c,t,t.destination),((t,e,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,l=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)r[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const c=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),s=h.getChannelData(e);c.fill(0),u.fill(0),$t(i,o,r,a,l,c,u,0,32,n,s)}return h})(await i(t),u,r,o)))()}const t=await l;return h.buffer=t,h.start(0),h}return await s(c,u,d),d})(c,u)}}})(fn,vt,Ge,je,Qn),Hn=(t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return Xt(i,s),i})(Gn),Yn=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l=i(a),c={...Qt,...o},u=e(a,l?null:t.baseLatency,c);super(t,!1,u,l?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Gt();return e.call(t,n,s,i)})})(u),this._nativeIIRFilterNode=u,r(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(tn,Hn,$n,We,Qe,xn),Zn=((t,e,n,s,i,r,o,a)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:_,upY:v,upZ:y}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),d=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const _=()=>{if(f)return;f=!0;const t=s(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[r(t,h,0),r(t,h,1),r(t,h,2),r(t,h,3),r(t,h,4),r(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(u.setOrientation(...e),m=e);const n=[r(t,h,6),r(t,h,7),r(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(u.setPosition(...n),g=n)},d.connect(t)},v=t=>e=>{e!==m[t]&&(m[t]=e,u.setOrientation(...m))},y=t=>e=>{e!==g[t]&&(g[t]=e,u.setPosition(...g))},b=(e,s,r)=>{const o=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});o.connect(d,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>s});const u=t({context:l},p,o.offset,tt,J);var h,f,m,g,v,y,b;return a(u,"value",(t=>()=>t.call(u)),(t=>e=>{try{t.call(u,e)}catch(t){if(9!==t.code)throw t}_(),p&&r(e)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,p?()=>{throw i()}:(...t)=>{const e=h.apply(u,t);return _(),e}),u.cancelScheduledValues=(f=u.cancelScheduledValues,p?()=>{throw i()}:(...t)=>{const e=f.apply(u,t);return _(),e}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,p?()=>{throw i()}:(...t)=>{const e=m.apply(u,t);return _(),e}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,p?()=>{throw i()}:(...t)=>{const e=g.apply(u,t);return _(),e}),u.setTargetAtTime=(v=u.setTargetAtTime,p?()=>{throw i()}:(...t)=>{const e=v.apply(u,t);return _(),e}),u.setValueAtTime=(y=u.setValueAtTime,p?()=>{throw i()}:(...t)=>{const e=y.apply(u,t);return _(),e}),u.setValueCurveAtTime=(b=u.setValueCurveAtTime,p?()=>{throw i()}:(...t)=>{const e=b.apply(u,t);return _(),e}),u};return{forwardX:b(0,0,v(0)),forwardY:b(1,0,v(1)),forwardZ:b(2,-1,v(2)),positionX:b(6,0,y(0)),positionY:b(7,0,y(1)),positionZ:b(8,0,y(2)),upX:b(3,0,v(3)),upY:b(4,1,v(4)),upZ:b(5,0,v(5))}})():u;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return _},get upY(){return v},get upZ(){return y}}})(_n,Cn,Rn,ue,he,ye,Qe,we),Xn=new WeakMap,Kn=((t,e,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,O.set(this,n),s(n)&&i.set(n,new Set),this._destination=new t(this,r),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?r(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(bn,Zn,He,Qe,Xn,Oe),Jn=((t,e,n,s,i,r)=>(o,a)=>{const l=o.createOscillator();return Xt(l,a),Jt(l,a,"detune"),Jt(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Zt(l,a,"type"),e(n,(()=>n(o)))||te(l),e(s,(()=>s(o)))||r(l,o),e(i,(()=>i(o)))||ee(l),t(o,l),l})(hn,Ie,ke,Se,Te,Ae),ts=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(c,u){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const d=H(h,u);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=e(u,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return r.set(u,h),d?(await t(u,c.detune,h.detune),await t(u,c.frequency,h.frequency)):(await s(u,c.detune,h.detune),await s(u,c.frequency,h.frequency)),await i(c,u,h),h})(c,u)}}})(pn,Jn,vt,mn,je),es=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={...pe,...o},c=n(a,l),u=r(a),h=u?s():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){W(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),et(this)&&G(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(tn,_n,Jn,ts,We,Qe,Oe),ns=(t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(fn),ss=((t,e,n,s,i)=>(r,{curve:o,oversample:a,...l})=>{const c=r.createWaveShaper(),u=r.createWaveShaper();Xt(c,l),Xt(u,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,_=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,p.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return _},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const i=Math.ceil((t+1)/2),r=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*r,l=Math.floor(a),c=Math.ceil(a);e[o]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],s[o]=l===c?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(c-a))*n[t-1-c]}e[i]=t%2==1?n[i-1]:(n[i-2]+n[i-1])/2,c.curve=e,u.curve=s}_=n,g&&(s(_)&&null===m?m=t(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a),i(re(v,p),(()=>{h.connect(c).connect(p),h.connect(d).connect(u).connect(f).connect(p),g=!0,s(_)&&(m=t(r,h))}),(()=>{h.disconnect(c),c.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(ns,Ut,ae,be,Sn),is=((t,e,n,s,i,r,o)=>(a,l)=>{const c=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Xt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();Zt(c,{curve:u},"curve"),Zt(c,l,"oversample");let h=null,d=!1;return o(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),d&&(s(n)&&null===h?h=t(a,c):s(n)||null===h||(h(),h=null)),n))),i(c,(()=>{d=!0,s(c.curve)&&(h=t(a,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(ns,Ut,ss,be,Sn,Ye,we),rs=((t,e,n,s,i,r,o,a,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:g,orientationY:_,orientationZ:v,panningModel:y,positionX:b,positionY:w,positionZ:x,refDistance:k,rolloffFactor:S,...T})=>{const C=u.createPanner();if(T.channelCount>2)throw o();if("max"===T.channelCountMode)throw o();Xt(C,T);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(u,{...E,channelInterpretation:"speakers",numberOfInputs:6}),O=s(u,{...T,gain:1}),D=s(u,{...E,gain:1}),M=s(u,{...E,gain:0}),R=s(u,{...E,gain:0}),N=s(u,{...E,gain:0}),F=s(u,{...E,gain:0}),I=s(u,{...E,gain:0}),P=i(u,256,6,1),q=r(u,{...E,curve:new Float32Array([1,1]),oversample:"none"});let V=[g,_,v],L=[b,w,x];const z=new Float32Array(1);P.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,z,0),l(t,z,1),l(t,z,2)];e.some(((t,e)=>t!==V[e]))&&(C.setOrientation(...e),V=e);const n=[l(t,z,3),l(t,z,4),l(t,z,5)];n.some(((t,e)=>t!==L[e]))&&(C.setPosition(...n),L=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0});const j={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(t){if(t>2)throw o();O.channelCount=t,C.channelCount=t},get channelCountMode(){return C.channelCountMode},set channelCountMode(t){if("max"===t)throw o();O.channelCountMode=t,C.channelCountMode=t},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,C.channelInterpretation=t},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(t){C.coneInnerAngle=t},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(t){C.coneOuterAngle=t},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();C.coneOuterGain=t},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(t){C.distanceModel=t},get inputs(){return[O]},get maxDistance(){return C.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;C.maxDistance=t},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return M.gain},get orientationZ(){return R.gain},get panningModel(){return C.panningModel},set panningModel(t){C.panningModel=t},get positionX(){return N.gain},get positionY(){return F.gain},get positionZ(){return I.gain},get refDistance(){return C.refDistance},set refDistance(t){if(t<0)throw new RangeError;C.refDistance=t},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;C.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return h!==j.coneInnerAngle&&(j.coneInnerAngle=h),d!==j.coneOuterAngle&&(j.coneOuterAngle=d),p!==j.coneOuterGain&&(j.coneOuterGain=p),f!==j.distanceModel&&(j.distanceModel=f),m!==j.maxDistance&&(j.maxDistance=m),g!==j.orientationX.value&&(j.orientationX.value=g),_!==j.orientationY.value&&(j.orientationY.value=_),v!==j.orientationZ.value&&(j.orientationZ.value=v),y!==j.panningModel&&(j.panningModel=y),b!==j.positionX.value&&(j.positionX.value=b),w!==j.positionY.value&&(j.positionY.value=w),x!==j.positionZ.value&&(j.positionZ.value=x),k!==j.refDistance&&(j.refDistance=k),S!==j.rolloffFactor&&(j.rolloffFactor=S),1===V[0]&&0===V[1]&&0===V[2]||C.setOrientation(...V),0===L[0]&&0===L[1]&&0===L[2]||C.setPosition(...L),c(re(j,C),(()=>{O.connect(C),t(O,q,0,0),q.connect(D).connect(A,0,0),q.connect(M).connect(A,0,1),q.connect(R).connect(A,0,2),q.connect(N).connect(A,0,3),q.connect(F).connect(A,0,4),q.connect(I).connect(A,0,5),A.connect(P).connect(u.destination)}),(()=>{O.disconnect(C),a(O,q,0,0),q.disconnect(D),D.disconnect(A),q.disconnect(M),M.disconnect(A),q.disconnect(R),R.disconnect(A),q.disconnect(N),N.disconnect(A),q.disconnect(F),F.disconnect(A),q.disconnect(I),I.disconnect(A),A.disconnect(P),P.disconnect(u.destination)}))})(pt,Ut,Cn,ae,ue,is,he,_t,ye,Sn),os=(t=>(e,n)=>{const s=e.createPanner();return void 0===s.orientationX?t(e,n):(Xt(s,n),Jt(s,n,"orientationX"),Jt(s,n,"orientationY"),Jt(s,n,"orientationZ"),Jt(s,n,"positionX"),Jt(s,n,"positionY"),Jt(s,n,"positionZ"),Zt(s,n,"coneInnerAngle"),Zt(s,n,"coneOuterAngle"),Zt(s,n,"coneOuterGain"),Zt(s,n,"distanceModel"),Zt(s,n,"maxDistance"),Zt(s,n,"panningModel"),Zt(s,n,"refDistance"),Zt(s,n,"rolloffFactor"),s)})(rs),as=((t,e,n,s,i,r,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(d,p){const f=u.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=r(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},_={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},v=H(m,p);if("bufferSize"in m)f=s(p,{...g,gain:1});else if(!v){const t={..._,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(p,t)}if(u.set(p,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,s)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,i.offset),i})));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return c(t)})()}const t=await h,r=s(p,{...g,gain:1});await l(d,p,r);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let m=[u[0][0],u[1][0],u[2][0]],v=[u[3][0],u[4][0],u[5][0]],y=s(p,{...g,gain:1}),b=i(p,{..._,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]});r.connect(y).connect(b.inputs[0]),b.connect(f);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==v[e]))){m=t,v=n;const o=e/p.sampleRate;y.gain.setValueAtTime(0,o),y=s(p,{...g,gain:0}),b=i(p,{..._,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]}),y.gain.setValueAtTime(1,o),r.connect(y).connect(b.inputs[0]),b.connect(f)}}return f}return v?(await t(p,d.orientationX,m.orientationX),await t(p,d.orientationY,m.orientationY),await t(p,d.orientationZ,m.orientationZ),await t(p,d.positionX,m.positionX),await t(p,d.positionY,m.positionY),await t(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),dt(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(pn,Cn,Rn,ae,os,vt,Ge,mn,je,Qn),ls=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),c={...fe,...a},u=n(l,c),h=r(l);super(t,!1,u,h?s():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,tt,J),this._orientationY=e(this,h,u.orientationY,tt,J),this._orientationZ=e(this,h,u.orientationZ,tt,J),this._positionX=e(this,h,u.positionX,tt,J),this._positionY=e(this,h,u.positionY,tt,J),this._positionZ=e(this,h,u.positionZ,tt,J),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(tn,_n,os,as,We,Qe,xn),cs=(t=>(e,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(Z),us=((t,e,n,s)=>class s{constructor(s,i){const r=e(s),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...me,...i}),a=t(r,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===s.prototype||n.has(t)}})(cs,We,new WeakSet),hs=((t,e,n,s,i,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(t,r,h,d,p)=>{if(1===r)return((t,e,i,r)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*l;h[t]=Math.cos(e),d[t]=Math.sin(e)}const p=n(t,{...c,gain:0}),f=s(t,{...u,curve:h}),m=s(t,{...u,curve:a}),g=n(t,{...c,gain:0}),_=s(t,{...u,curve:d});return{connectGraph(){e.connect(p),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===_.inputs?_:_.inputs[0]),f.connect(p.gain),_.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===_.inputs?_:_.inputs[0]),f.disconnect(p.gain),_.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(t,h,d,p);if(2===r)return((t,i,r,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const _=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...c,gain:0}),y=s(t,{...u,curve:d}),b=n(t,{...c,gain:0}),w=s(t,{...u,curve:p}),x=s(t,{...u,curve:a}),k=n(t,{...c,gain:0}),S=s(t,{...u,curve:f}),T=n(t,{...c,gain:0}),C=s(t,{...u,curve:m});return{connectGraph(){i.connect(_),i.connect(void 0===x.inputs?x:x.inputs[0]),_.connect(v,0),_.connect(b,0),_.connect(k,1),_.connect(T,1),x.connect(r),r.connect(void 0===y.inputs?y:y.inputs[0]),r.connect(void 0===w.inputs?w:w.inputs[0]),r.connect(void 0===S.inputs?S:S.inputs[0]),r.connect(void 0===C.inputs?C:C.inputs[0]),y.connect(v.gain),w.connect(b.gain),S.connect(k.gain),C.connect(T.gain),v.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){i.disconnect(_),i.disconnect(void 0===x.inputs?x:x.inputs[0]),_.disconnect(v,0),_.disconnect(b,0),_.disconnect(k,1),_.disconnect(T,1),x.disconnect(r),r.disconnect(void 0===y.inputs?y:y.inputs[0]),r.disconnect(void 0===w.inputs?w:w.inputs[0]),r.disconnect(void 0===S.inputs?S:S.inputs[0]),r.disconnect(void 0===C.inputs?C:C.inputs[0]),y.disconnect(v.gain),w.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),v.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,d,p);throw i()};return(e,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw i();const c=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),u=n(e,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(e,s,u,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(e,t,u,d,c)),g&&p()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2])};let g=!1;return r(re(m,c),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(Cn,ie,ae,is,he,Sn),ds=((t,e)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,s);const r=n.createStereoPanner();return Xt(r,s),Jt(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),r})(hs,he),ps=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=H(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return r.set(a,l),c?await t(a,o.pan,l.pan):await s(a,o.pan,l.pan),dt(l)?await i(o,a,l.inputs[0]):await i(o,a,l),l})(o,a)}}})(pn,ds,vt,mn,je),fs=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...ge,...o},c=n(a,l),u=r(a);super(t,!1,c,u?s():null),this._pan=e(this,u,c.pan)}get pan(){return this._pan}})(tn,_n,ds,ps,We,Qe),ms=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!H(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(r,e)}return s.set(r,o),dt(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o})(i,r)}}})(is,vt,je),gs=((t,e,n,s,i,r,o)=>class extends t{constructor(t,e){const a=i(t),l={...ve,...e},c=n(a,l);super(t,!0,c,r(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(tn,Ut,is,ms,We,Qe,xn),_s=(t=>null!==t&&t.isSecureContext)(Ve),vs=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Ve),ys=new WeakMap,bs=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s})(ys,Ge),ws=_s?((t,e,n,s,i,r,o,a,l,c,u,h,d)=>{let p=0;return(f,m,g={credentials:"omit"})=>{const _=u.get(f);if(void 0!==_&&_.has(m))return Promise.resolve();const v=c.get(f);if(void 0!==v){const t=v.get(m);if(void 0!==t)return t}const y=r(f),b=void 0===y.audioWorklet?i(m).then((([t,e])=>{const[s,i]=P(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;s(y.currentTime,y.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const s=R.get(y);if(void 0!==s){if(s.has(t))throw e();V(n),q(n.parameterDescriptors),s.set(t,n)}else V(n),q(n.parameterDescriptors),R.set(y,new Map([[t,n]]))}),y.sampleRate,void 0,void 0)))})):Promise.all([i(m),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const s=p+1;p=s;const[i,r]=P(t,e),c=new Blob([`${i};((AudioWorkletProcessor,registerProcessor)=>{${r}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(c);return y.audioWorklet.addModule(u,g).then((()=>{if(a(y))return y;const t=o(y);return t.audioWorklet.addModule(u,g).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${s}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));return void 0===v?c.set(f,new Map([[m,b]])):v.set(m,b),b.then((()=>{const t=u.get(f);void 0===t?u.set(f,new Set([m])):t.add(m)})).finally((()=>{const t=c.get(f);void 0!==t&&t.delete(m)})),b}})(Ie,he,(t=>e=>new Promise(((n,s)=>{if(null===t)return void s(new SyntaxError);const i=t.document.head;if(null===i)s(new SyntaxError);else{const r=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,i,r,o)=>n===a||n===t.location.href&&1===i&&1===r?(c(),s(o),!1):null!==l?l(e,n,i,r,o):void 0,r.onerror=()=>{c(),s(new SyntaxError)},r.onload=()=>{c(),n()},r.src=a,r.type="module",i.appendChild(r)}})))(Ve),vs,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),We,bs,Qe,Je,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(n);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>r=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await s.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(i)}return r&&!o})(Je,Ge),Ve):void 0,xs=((t,e)=>n=>t(n)||e(n))(Ze,Qe),ks=((t,e,n,s,i,r,o,a,l,c,u)=>(n,s)=>{const h=o(n)?n:r(n);if(i.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{i.add(s)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(s).then((n=>(Lt(s).catch((()=>{})),e(a,(()=>a(n)))||u(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await Lt(s)}catch{}},r=t=>{n(t),i()};try{h.decodeAudioData(s,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),X(n)),t.add(n),i().then((()=>e(n)))}),(t=>{r(null===t?new DOMException("","EncodingError"):t)}))}catch(t){r(t)}}))})(sn,Ie,0,0,new WeakSet,We,xs,Y,Yt,ln,cn),Ss=((t,e,n,s,i,r,o,a,l,c,u,h,d,p,f,m,g,_,v,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new r(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new _(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(ws,nn,un,yn,kn,An,Dn,Fn,qn,ks,Ln,Bn,Un,Yn,Kn,es,ls,us,fs,gs),Ts=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,e)=>t.createMediaElementSource(e.mediaElement))(i,e);if(s(i))throw TypeError();super(t,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(tn,0,We,Qe),Cs=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t);if(s(i))throw new TypeError;const r=((t,e)=>{const n=t.createMediaStreamDestination();return Xt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(i,{...Ht,...e});super(t,!1,r,null),this._nativeMediaStreamAudioDestinationNode=r}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(tn,0,We,Qe),Es=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const s=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i})(i,e);if(s(i))throw new TypeError;super(t,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(tn,0,We,Qe),As=((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return r})(Ut,Qe),Os=((t,e,n)=>class extends t{constructor(t,s){const i=n(t);super(t,!0,e(i,s),null)}})(tn,As,We),Ds=((t,e,n,s,i,r,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:r}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ot(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(Ss,Ut,he,_e,Ts,Cs,Es,Os,Ye),Ms=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Xn),Rs=(t=>(e,n)=>{t(e).add(n)})(Ms),Ns=(t=>(e,n,s=0,i=0)=>{const r=e[s];if(void 0===r)throw t();return St(n)?r.connect(n,0,i):r.connect(n,0)})(Z),Fs=(t=>(e,n)=>{t(e).delete(n)})(Ms),Is=(t=>(e,n=void 0,s=void 0,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?jt(t,e,n).disconnect():St(n)?void 0===s?e.forEach((t=>t.disconnect(n))):void 0===i?jt(t,e,s).disconnect(n,0):jt(t,e,s).disconnect(n,0,i):void 0===s?e.forEach((t=>t.disconnect(n))):jt(t,e,s).disconnect(n,0))(Z),Ps=new WeakMap,qs=((t,e)=>n=>e(t,n))(Ps,L),Vs=((t,e,n,s,i,r,o,a,l,c,u,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const _=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(_.some((t=>t<1)))throw l();if(_.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw l();const v=g.channelCount*g.numberOfInputs,y=_.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+b>6||y>6)throw l();const w=new MessageChannel,x=[],k=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(o(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(i(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of m.parameterDescriptors){const i=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[s]?g.parameterData[s]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?tt:e},minValue:{get:()=>void 0===n?J:n}}),S.push(i)}const T=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+b)}),C=ne(f,p.sampleRate),E=a(p,C,v+b,Math.max(1,y)),A=i(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),O=[];for(let t=0;t<g.numberOfOutputs;t+=1)O.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[t].connect(T,e,t*g.channelCount+e)}const D=new At(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=S[e];return n.connect(T,0,v+e),n.start(0),[t,n.offset]})));T.connect(E);let M=g.channelInterpretation,R=null;const F=0===g.numberOfOutputs?[E]:O,I={get bufferSize(){return C},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;M=t},get context(){return E.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(t){"function"==typeof R&&I.removeEventListener("processorerror",R),R="function"==typeof t?t:null,"function"==typeof R&&I.addEventListener("processorerror",R)},get parameters(){return D},get port(){return w.port2},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,F),disconnect:c.bind(null,F),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])},P=new Map;var q,V;w.port1.addEventListener=(q=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=P.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(p.currentTime,p.sampleRate,(()=>e(t)))},P.set(e,t[1]))}}return q.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(V=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=P.get(t[1]);void 0!==e&&(P.delete(t[1]),t[1]=e)}return V.call(w.port1,t[0],t[1],t[2])});let L=null;Object.defineProperty(w.port1,"onmessage",{get:()=>L,set:t=>{"function"==typeof L&&w.port1.removeEventListener("message",L),L="function"==typeof t?t:null,"function"==typeof L&&(w.port1.addEventListener("message",L),w.port1.start())}}),m.prototype.port=w.port1;let z=null;const j=((t,e,n,s)=>{let i=N.get(t);void 0===i&&(i=new WeakMap,N.set(t,i));const r=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),i.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),i.close(),n(t)},i.postMessage(t)})))(e);return new t(n)})(n,s);return i.set(e,r),r})(p,I,m,g);j.then((t=>z=t));const B=Rt(g.numberOfInputs,g.channelCount),W=Rt(g.numberOfOutputs,_),U=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let G=!0;const Q=()=>{g.numberOfOutputs>0&&E.disconnect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<_[t];s+=1)A.disconnect(n,e+s,s);e+=_[t]}},$=new Map;E.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==z){const n=h(I);for(let s=0;s<C;s+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)Dt(t,B[e],n,n,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{Dt(t,U,e,v+n,s)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<_[t];e+=1)0===W[t][e].byteLength&&(W[t][e]=new Float32Array(128));try{const t=B.map(((t,e)=>{if(n[e].size>0)return $.set(e,C/128),t;const s=$.get(e);return void 0===s?[]:(t.every((t=>t.every((t=>0===t))))&&(1===s?$.delete(e):$.set(e,s-1)),t)})),i=u(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>z.process(t,W,U)));G=i;for(let t=0,n=0;t<g.numberOfOutputs;t+=1){for(let i=0;i<_[t];i+=1)Mt(e,W[t],i,n+i,s);n+=_[t]}}catch(t){G=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!G){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[s].disconnect(T,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(T,0,v+e),t.stop()}}T.disconnect(E),E.onaudioprocess=null,H?Q():X();break}}}};let H=!1;const Y=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>E.connect(Y).connect(p.destination),X=()=>{E.disconnect(Y),Y.disconnect()};return Z(),d(I,(()=>{if(G){X(),g.numberOfOutputs>0&&E.connect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<_[t];s+=1)A.connect(n,e+s,s);e+=_[t]}}H=!0}),(()=>{G&&(Z(),Q()),H=!1}))})(Ns,Z,Ut,Cn,ie,Rn,ae,ue,he,Is,vs,qs,Sn),Ls=((t,e,n,s,i)=>(r,o,a,l,c,u)=>{if(null!==a)try{const e=new a(r,l,u),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(r.destination),i(e,(()=>t.disconnect()),(()=>t.connect(r.destination)))}return e}catch(t){if(11===t.code)throw s();throw t}var h,d;if(void 0===c)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(r,o,c,u)})(Ut,Vs,ae,he,Sn),zs=((t,e,n,s,i,r,o,a,l,c,u,h,d,p,f,m)=>(g,_,v)=>{const y=new WeakMap;let b=null;return{render(w,x){a(x,w);const k=y.get(x);return void 0!==k?Promise.resolve(k):(async(a,w)=>{let x=u(a),k=null;const S=H(x,w),T=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const t=T.reduce(((t,e)=>t+e),0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),r=[];for(let t=0;t<a.numberOfOutputs;t+=1)r.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[t]}));const c=o(w,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});c.connect=e.bind(null,r),c.disconnect=l.bind(null,r),k=[n,r,c]}else S||(x=new h(w,g));if(y.set(w,null===k?x:k[2]),null!==k){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),c=[],u=[];for(let t=0;t<_.numberOfInputs;t+=1)c.push(o(l,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),u.push(i(l,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset),e}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<_.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<_.channelCount;e+=1)u[t].connect(g,e,t*_.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(c.map((t=>f(a,l,t)))),m(l)};b=Nt(a,0===n?null:await l(),w,_,T,v,c)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=k;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=u[t];for(let s=0;s<T[t];s+=1)l.connect(n,e+s,s);e+=T[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(w,n,x.parameters.get(e));else for(const[t,e]of a.parameters.entries())await p(w,e,x.parameters.get(t));return await f(a,w,x),x})(w,x)}}})(pn,Ns,fn,Cn,ie,Rn,ae,Fs,Is,vs,vt,Je,Ge,mn,je,Qn),js=(t=>e=>t.get(e))(ys),Bs=(t=>(e,n)=>{t.set(e,n)})(Ps),Ws=_s?((t,e,n,s,i,r,o,a,l,c,u,h,d,p)=>class extends e{constructor(e,u,d){var p;const f=a(e),m=l(f),g=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...Ot,...d});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(g);const _=R.get(f),v=null==_?void 0:_.get(u),y=m||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,b=i(y,m?null:e.baseLatency,c,u,v,g);super(e,!0,b,m?s(u,g,v):null);const w=[];b.parameters.forEach(((t,e)=>{const s=n(this,m,t);w.push([e,s])})),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new At(w),m&&t(f,this);const{activeInputs:x}=r(this);h(b,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Rs,tn,_n,zs,Ls,st,js,We,Qe,Je,0,Bs,0,Oe):void 0,Us=((t,e)=>(n,s,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,i)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(he,Ge),Gs=((t,e,n,s,i,r,o,a)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(s(c)).map((t=>n(t).render(t,c)))))).then((()=>i(c))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),X(n)):e(r,(()=>r(n)))||a(n),t.add(n),n))))(sn,Ie,ze,Ms,Qn,Y,ln,cn),Qs=((t,e,n,s,i)=>class extends t{constructor(t,n,i){let r;if("number"==typeof t&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");r=t}const{length:o,numberOfChannels:a,sampleRate:l}={...de,...r},c=s(a,o,l);e(Yt,(()=>Yt(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,ot(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(Ss,Ie,Ut,Us,Gs),$s=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(O,Ze),Hs=((t,e)=>n=>t.has(n)||e(n))(C,Xe),Ys=((t,e)=>n=>t.has(n)||e(n))(A,Ke),Zs=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(O,Qe),Xs=()=>(async(t,e,n,s,i,r,o,a,l,c,u,h,d,p,f,m)=>!!(t(e,e)&&t(n,n)&&t(i,i)&&t(r,r)&&t(a,a)&&t(l,l)&&t(c,c)&&t(u,u)&&t(h,h)&&t(d,d)&&t(p,p))&&(await Promise.all([t(s,s),t(o,o),t(f,f),t(m,m)])).every((t=>t)))(Ie,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(Ge),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(Ye),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise((t=>{let n=!0;const s=s=>{n&&(n=!1,e.startRendering(),t(s instanceof TypeError))};let i;try{i=e.decodeAudioData(null,(()=>{}),s)}catch(t){s(t)}void 0!==i&&i.catch(s)}))})(Ge),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(Ye),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Ge),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,i=new e(1,128,44100),r=URL.createObjectURL(n);let o=!1;try{await i.audioWorklet.addModule(r);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise((t=>{e.port.onmessage=()=>t(),e.port.postMessage(s.port2,[s.port2])})),e.port.onmessage=()=>o=!0,n.connect(e),n.start(0),await i.startRendering(),o=await new Promise((t=>{s.port1.onmessage=({data:e})=>t(1===e),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(r)}return o})(Je,Ge),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Ge),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);return void 0===e.createConstantSource||e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ge),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(Ge),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Ge),Ce,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(Ve),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}finally{e.close()}})(Ye),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),s=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(e.destination),e.startRendering().then((t=>1!==t.getChannelData(0)[0]))})(Ge),Ee);function Ks(t,e){if(!t)throw new Error(e)}function Js(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function ti(t){t.isOffline||"running"===t.state||ii('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let ei=console;function ni(t){ei=t}function si(...t){ei.log(...t)}function ii(...t){ei.warn(...t)}function ri(t){return void 0===t}function oi(t){return!ri(t)}function ai(t){return"function"==typeof t}function li(t){return"number"==typeof t}function ci(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function ui(t){return"boolean"==typeof t}function hi(t){return Array.isArray(t)}function di(t){return"string"==typeof t}function pi(t){return di(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const fi="object"==typeof self?self:null,mi=fi&&(fi.hasOwnProperty("AudioContext")||fi.hasOwnProperty("webkitAudioContext"));function gi(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function _i(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((s=s.apply(t,e||[])).next())}))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class vi{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function yi(t){return Ys(t)}function bi(t){return Hs(t)}function wi(t){return Zs(t)}function xi(t){return $s(t)}function ki(t){return t instanceof AudioBuffer}function Si(t,e){return"value"===t||yi(e)||bi(e)||ki(e)}function Ti(t,...e){if(!e.length)return t;const n=e.shift();if(ci(t)&&ci(n))for(const e in n)Si(e,n[e])?t[e]=n[e]:ci(n[e])?(t[e]||Object.assign(t,{[e]:{}}),Ti(t[e],n[e])):Object.assign(t,{[e]:n[e]});return Ti(t,...e)}function Ci(t,e,n=[],s){const i={},r=Array.from(e);if(ci(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some((e=>Reflect.has(t,e)))||(Ti(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())),1===r.length&&ci(r[0]))Ti(i,r[0]);else for(let t=0;t<n.length;t++)oi(r[t])&&(i[n[t]]=r[t]);return Ti(t,i)}function Ei(t,e){return ri(t)?e:t}function Ai(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class Oi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||fi&&this.toString()===fi.TONE_DEBUG_CLASS)&&si(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Oi.version=x;const Di=1e-6;function Mi(t,e){return t>e+Di}function Ri(t,e){return Mi(t,e)||Fi(t,e)}function Ni(t,e){return t+Di<e}function Fi(t,e){return Math.abs(t-e)<Di}function Ii(t,e,n){return Math.max(Math.min(t,n),e)}class Pi extends Oi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Ci(Pi.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ks(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Ks(Ri(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Fi(this._timeline[e].time,t)){for(let n=e;n>=0&&Fi(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&Ri(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<i;){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],o=this._timeline[s+1];if(Fi(r[e],t)){for(let n=s;n<this._timeline.length&&Fi(this._timeline[n][e],t);n++)s=n;return s}if(Ni(r[e],t)&&Mi(o[e],t))return s;Mi(r[e],t)?i=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),i=this._search(e);return-1!==s&&-1!==i?(this._timeline[s].time!==t&&(s+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Fi(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&Fi(this._timeline[e].time,t);e--)s=e;this._iterate((t=>{e(t)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const qi=[];function Vi(t){qi.push(t)}const Li=[];function zi(t){Li.push(t)}class ji extends Oi{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{ri(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(ri(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(ri(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(ji.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Bi extends ji{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Wi extends Bi{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Pi,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Ci(Wi.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new Ds(t)}({latencyHint:t.latencyHint}),this._ticker=new vi(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,qi.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ks(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ks(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ks(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ks(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ks(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ks(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ks(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Ks(oi(Ws),"This node only works in a secure context (https or localhost)"),new Ws(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return _i(this,void 0,void 0,(function*(){Ks(oi(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return _i(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,di(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return xi(this._context)?this._context.resume():Promise.resolve()}close(){return _i(this,void 0,void 0,(function*(){var t;xi(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Li.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:i+e})};return s(),n}}function Ui(t,e){hi(e)?e.forEach((e=>Ui(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Gi(t,e){hi(e)?e.forEach((e=>Gi(t,e))):Object.defineProperty(t,e,{writable:!0})}const Qi=()=>{};class $i extends Oi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Qi;const t=Ci($i.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ki(t.url)||t.url instanceof $i?this.set(t.url):di(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Qi,onload:Qi,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xi().sampleRate}set(t){return t instanceof $i?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return _i(this,void 0,void 0,(function*(){const e=$i.load(t).then((t=>{this.set(t),this.onload(this)}));$i.downloads.push(e);try{yield e}finally{const t=$i.downloads.indexOf(e);$i.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=hi(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,i=Xi(),r=i.createBuffer(n,s,i.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)r.copyToChannel(o[t],t);return this._buffer=r,this}toMono(t){if(li(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(li(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);Ks(n<s,"The start time must be less than the end time");const i=s-n,r=Xi().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)r.copyToChannel(this.getChannelData(t).subarray(n,s),t);return new $i(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new $i).fromArray(t)}static fromUrl(t){return _i(this,void 0,void 0,(function*(){const e=new $i;return yield e.load(t)}))}static load(t){return _i(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if($i.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===$i.baseUrl||$i.baseUrl.endsWith("/")?$i.baseUrl:$i.baseUrl+"/",s=yield fetch(n+t);if(!s.ok)throw new Error(`could not load url: ${t}`);const i=yield s.arrayBuffer();return yield Xi().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return _i(this,void 0,void 0,(function*(){for(yield Promise.resolve();$i.downloads.length;)yield $i.downloads[0]}))}}$i.baseUrl="",$i.downloads=[];class Hi extends Wi{constructor(){var t,e,n;super({clockSource:"offline",context:wi(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Qs(t,e,n)),lookAhead:0,updateInterval:wi(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=wi(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return _i(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return _i(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new $i(e)}))}close(){return Promise.resolve()}}const Yi=new class extends Bi{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return _i(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Zi=Yi;function Xi(){return Zi===Yi&&mi&&Ki(new Wi),Zi}function Ki(t){Zi=xi(t)?new Wi(t):wi(t)?new Hi(t):t}function Ji(){return Zi.resume()}if(fi&&!fi.TONE_SILENCE_LOGGING){let t="v";"dev"===x&&(t="");const e=` * Tone.js ${t}${x} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function tr(t){return Math.pow(10,t/20)}function er(t){return Math.log(t)/Math.LN10*20}function nr(t){return Math.pow(2,t/12)}let sr=440;function ir(t){return Math.round(rr(t))}function rr(t){return 69+12*Math.log2(t/sr)}function or(t){return sr*Math.pow(2,(t-69)/12)}class ar extends Oi{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ar&&this.fromType(this._val),ri(this._val))return this._noArg();if(di(this._val)&&ri(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ci(this._val)){let t=0;for(const e in this._val)if(oi(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(oi(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return di(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class lr extends ar{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new lr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],s=new lr(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new lr(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(s-t)&&(n=e,s=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ir(this.toFrequency())}_now(){return this.context.now()}}function cr(t,e){return new lr(Xi(),t,e)}class ur extends lr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return sr}static set A4(t){!function(t){sr=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:ur.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=hr[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:ur.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new ur(this.context,this.valueOf()*nr(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return ir(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/ur.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),dr[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return or(t)}static ftom(t){return ir(t)}}const hr={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},dr=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function pr(t,e){return new ur(Xi(),t,e)}class fr extends lr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function mr(t,e){return new fr(Xi(),t,e)}class gr extends Oi{constructor(){super();const t=Ci(gr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Xi()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new lr(this.context,t).toSeconds()}toFrequency(t){return new ur(this.context,t).toFrequency()}toTicks(t){return new fr(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{ri(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];oi(n)&&oi(n.value)&&oi(n.setValueAtTime)?t[e]=n.value:n instanceof gr?t[e]=n._getPartialProperties(t[e]):hi(n)||li(n)||di(n)||ui(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&oi(this[e])&&(this[e]&&oi(this[e].value)&&oi(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof gr?this[e].set(t[e]):this[e]=t[e])})),this}}class _r extends Pi{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Js(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class vr extends gr{constructor(){super(Ci(vr.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Ci(vr.getDefaults(),arguments,["param","units","convert"]);for(Ks(oi(t.param)&&(yi(t.param)||t.param instanceof vr),"param must be an AudioParam");!yi(t.param);)t.param=t.param._param;this._swappable=!!oi(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Pi(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,oi(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(gr.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return oi(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return oi(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return oi(this.maxValue)&&oi(this.minValue)&&Js(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?tr(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?er(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return Ks(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else i=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return Ks(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Fi(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return Ks(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);Ks(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(s),Ks(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*s;this.setValueAtTime(this._toType(i),e);const r=n/(t.length-1);for(let n=1;n<t.length;n++){const i=this._fromType(t[n])*s;this.linearRampToValueAtTime(this._toType(i),e+n*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Ks(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Ks(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),i=this._events.getAfter(e);return s&&Fi(s.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:e+2,r=(i-e)/10;for(let n=e;n<i;n+=r)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Ks(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,i){return n+(e-n)*Math.exp(-(i-t)/s)}_linearInterpolate(t,e,n,s,i){return e+(i-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,i){return e*Math.pow(s/e,(i-t)/(n-t))}}class yr extends gr{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return oi(this.input)?yi(this.input)||this.input instanceof vr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return oi(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return oi(t)&&(t instanceof yr||bi(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Ks(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return wr(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ii("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return xr(this,t,e,n),this}chain(...t){return br(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),oi(this.input)&&(this.input instanceof yr?this.input.dispose():bi(this.input)&&this.input.disconnect()),oi(this.output)&&(this.output instanceof yr?this.output.dispose():bi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function br(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof yr?t.connect(e):bi(t)&&wr(t,e),e)),e)}function wr(t,e,n=0,s=0){for(Ks(oi(t),"Cannot connect from undefined node"),Ks(oi(e),"Cannot connect to undefined node"),(e instanceof yr||bi(e))&&Ks(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ks(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof yr||e instanceof vr;)oi(e.input)&&(e=e.input);for(;t instanceof yr;)oi(t.output)&&(t=t.output);yi(e)?t.connect(e,n):t.connect(e,n,s)}function xr(t,e,n=0,s=0){if(oi(e))for(;e instanceof yr;)e=e.input;for(;!bi(t);)oi(t.output)&&(t=t.output);yi(e)?t.disconnect(e,n):bi(e)?t.disconnect(e,n,s):t.disconnect()}class kr extends yr{constructor(){super(Ci(kr.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Ci(kr.getDefaults(),arguments,["gain","units"]);this.gain=new vr({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ui(this,"gain")}static getDefaults(){return Object.assign(yr.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Sr extends yr{constructor(t){super(t),this.onended=Qi,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new kr({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(yr.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Qi})}_startGain(t,e=1){Ks(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ks(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Qi&&(this.onended(this),this.onended=Qi,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ks(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Tr extends Sr{constructor(){super(Ci(Tr.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Ci(Tr.getDefaults(),arguments,["offset"]);wr(this._source,this._gainNode),this.offset=new vr({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Sr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Cr extends yr{constructor(){super(Ci(Cr.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Ci(Cr.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Tr({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(yr.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Er(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Er(t,e,n,s){(e instanceof vr||yi(e)||e instanceof Cr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Cr&&(e.overridden=!0)),wr(t,e,n,s)}class Ar extends vr{constructor(){super(Ci(Ar.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Pi(1/0),this._multiplier=1;const t=Ci(Ar.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(1/n,1));for(let t=0;t<=r;t++){const r=n*t+e,o=this._exponentialApproach(i.time,i.value,s,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),i=Math.round(Math.max(10*(e-s.time),1)),r=(e-s.time)/i;for(let t=0;t<=i;t++){const i=r*t+s.time,o=this._exponentialInterpolate(s.time,s.value,e,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ri(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),r=Math.sqrt(Math.pow(s,2)-2*i*(e.ticks-t)),o=(-s+r)/i;return(o>0?o:(-s-r)/i)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Or extends Cr{constructor(){super(Ci(Or.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Ci(Or.getDefaults(),arguments,["value"]);this.input=this._param=new Ar({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Cr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Dr extends gr{constructor(){super(Ci(Dr.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new _r,this._tickOffset=new Pi;const t=Ci(Dr.getDefaults(),arguments,["frequency"]);this.frequency=new Or({context:this.context,units:t.units,value:t.frequency}),Ui(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},gr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),oi(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let i=n,r=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(r=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t})),this._state.remove(s),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let s=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(i=n.seconds,e=n.time),"started"===s.state&&"started"!==t.state&&(i+=t.time-e),s=t})),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,(e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e}));let i=null;if(s&&"started"===s.state){const r=Math.max(s.time,t),o=this.frequency.getTicksAtTime(r),a=o-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(a)-a;l=Fi(l,1)?0:l;let c=this.frequency.getTimeOfTick(o+l);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){i=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Mr extends gr{constructor(){super(Ci(Mr.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Qi,this._lastUpdate=0,this._state=new _r("stopped"),this._boundLoop=this._loop.bind(this);const t=Ci(Mr.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Dr({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ui(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(gr.getDefaults(),{callback:Qi,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){ti(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ji.mixin(Mr);class Rr extends yr{constructor(){super(Ci(Rr.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=Ci(Rr.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new vr({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ui(this,"delayTime")}static getDefaults(){return Object.assign(yr.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Nr(t,e,n=2,s=Xi().sampleRate){return _i(this,void 0,void 0,(function*(){const i=Xi(),r=new Hi(n,e,s);Ki(r),yield t(r);const o=r.render();Ki(i);const a=yield o;return new $i(a)}))}class Fr extends Oi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Ci(Fr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Qi,onload:Qi,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ks(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=Qi,s=Qi){return di(e)?this._buffers.set(t.toString(),new $i(this.baseUrl+e,n,s)):this._buffers.set(t.toString(),new $i(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Ir extends ur{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return ir(super._frequencyToUnits(t))}_ticksToUnits(t){return ir(super._ticksToUnits(t))}_beatsToUnits(t){return ir(super._beatsToUnits(t))}_secondsToUnits(t){return ir(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return or(this.toMidi())}transpose(t){return new Ir(this.context,this.toMidi()+t)}}function Pr(t,e){return new Ir(Xi(),t,e)}class qr extends fr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function Vr(t,e){return new qr(Xi(),t,e)}class Lr extends gr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Pi,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Vi((t=>{t.draw=new Lr({context:t})})),zi((t=>{t.draw.dispose()}));class zr extends Oi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Ks(oi(t.time),"Events must have a time property"),Ks(oi(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new jr(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class jr{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Br extends yr{constructor(){super(Ci(Br.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Ci(Br.getDefaults(),arguments,["volume"]);this.input=this.output=new kr({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Ui(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Wr extends yr{constructor(){super(Ci(Wr.getDefaults(),arguments)),this.name="Destination",this.input=new Br({context:this.context}),this.output=new kr({context:this.context}),this.volume=this.input.volume;const t=Ci(Wr.getDefaults(),arguments);br(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),br(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Vi((t=>{t.destination=new Wr({context:t})})),zi((t=>{t.destination.dispose()}));class Ur extends Oi{constructor(t){super(),this.name="TimelineValue",this._timeline=new Pi({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Gr{constructor(t,e){this.id=Gr._eventId++;const n=Object.assign(Gr.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Qi,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Gr._eventId=0;class Qr extends Gr{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Qr.getDefaults(),e);this.duration=new qr(t.context,n.duration).valueOf(),this._interval=new qr(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Gr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qr(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new qr(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qr(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class $r extends gr{constructor(){super(Ci($r.getDefaults(),arguments)),this.name="Transport",this._loop=new Ur(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Pi,this._repeatedEvents=new zr,this._syncedSignals=[],this._swingAmount=0;const t=Ci($r.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Mr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ui(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(gr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=new qr(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new Gr(this,{callback:t,time:new fr(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const i=new Qr(this,{callback:t,duration:new lr(this.context,s).toTicks(),interval:new lr(this.context,e).toTicks(),time:new fr(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new Gr(this,{callback:t,once:!0,time:new fr(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new qr(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return oi(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){hi(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new lr(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new lr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new qr(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new qr(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/s}else e=0}const n=new kr(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Gi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ji.mixin($r),Vi((t=>{t.transport=new $r({context:t})})),zi((t=>{t.transport.dispose()}));class Hr extends yr{constructor(t){super(t),this.input=void 0,this._state=new _r("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Qi,this._syncedStop=Qi,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Br({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ui(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,onstop:Qi,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=ri(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(Ei(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else ti(this.context),this._start(s,e,n);else Ks(Mi(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=ri(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||oi(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Qi,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Yr extends Sr{constructor(){super(Ci(Yr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Ci(Yr.getDefaults(),arguments,["url","onload"]);wr(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new vr({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new $i(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Sr.getDefaults(),{url:new $i,loop:!1,loopEnd:0,loopStart:0,onload:Qi,onerror:Qi,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){Ks(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,s),e=this.loop?Ei(e,this.loopStart):Ei(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;Ri(r,t)&&(r=(r-e)%n+e),Fi(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ni(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),oi(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Zr extends Hr{constructor(){super(Ci(Zr.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=Ci(Zr.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Hr.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Ks(t in Jr,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=Jr[this._type];this._source=new Yr({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Xr=220500,Kr={brown:null,pink:null,white:null},Jr={get brown(){if(!Kr.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Xr);t[e]=n;let s=0;for(let t=0;t<Xr;t++){const e=2*Math.random()-1;n[t]=(s+.02*e)/1.02,s=n[t],n[t]*=3.5}}Kr.brown=(new $i).fromArray(t)}return Kr.brown},get pink(){if(!Kr.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Xr);let s,i,r,o,a,l,c;t[e]=n,s=i=r=o=a=l=c=0;for(let t=0;t<Xr;t++){const e=2*Math.random()-1;s=.99886*s+.0555179*e,i=.99332*i+.0750759*e,r=.969*r+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=s+i+r+o+a+l+c+.5362*e,n[t]*=.11,c=.115926*e}}Kr.pink=(new $i).fromArray(t)}return Kr.pink},get white(){if(!Kr.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Xr);t[e]=n;for(let t=0;t<Xr;t++)n[t]=2*Math.random()-1}Kr.white=(new $i).fromArray(t)}return Kr.white}};class to extends yr{constructor(){super(Ci(to.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=Ci(to.getDefaults(),arguments,["volume"]);this._volume=this.output=new Br({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,volume:0})}open(t){return _i(this,void 0,void 0,(function*(){Ks(to.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield to.enumerateDevices();li(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),Ks(oi(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const t=this.context.createMediaStreamSource(s);wr(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return _i(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return oi(navigator.mediaDevices)&&oi(navigator.mediaDevices.getUserMedia)}}function eo(t,e){return _i(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,s=new Hi(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)}))}class no extends Sr{constructor(){super(Ci(no.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Ci(no.getDefaults(),arguments,["frequency","type"]);wr(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new vr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new vr({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Ui(this,["frequency","detune"])}static getDefaults(){return Object.assign(Sr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class so extends Hr{constructor(){super(Ci(so.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Ci(so.getDefaults(),arguments,["frequency","type"]);this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency}),Ui(this,"frequency"),this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),Ui(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Hr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new no({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return so._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=so._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(oi(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),so._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),so._periodicWaveCache.length>100&&so._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Js(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),i=new Float32Array(n);let r=1;if("custom"===t){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[s,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(r=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=r?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(s[o]=0,i[o]=0)}return[s,i]}_inverseFFT(t,e,n){let s=0;const i=t.length;for(let r=0;r<i;r++)s+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*s),n);return Ii(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}so._periodicWaveCache=[];class io extends yr{constructor(){super(Object.assign(Ci(io.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Er(this,t,e,n),this}}class ro extends io{constructor(){super(Object.assign(Ci(ro.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Ci(ro.getDefaults(),arguments,["mapping","length"]);hi(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):ai(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Cr.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,i=e;s<i;s++){const e=s/(i-1)*2-1;n[s]=t(e,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ks(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class oo extends io{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ro({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ao extends Cr{constructor(){super(Object.assign(Ci(ao.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Ci(ao.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new kr({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Cr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class lo extends Hr{constructor(){super(Ci(lo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new oo({context:this.context}),this._modulationNode=new kr({context:this.context});const t=Ci(lo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new so({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ao({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ui(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(so.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class co extends Hr{constructor(){super(Ci(co.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new kr({context:this.context,gain:0});const t=Ci(co.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new so({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new so({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ao({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new ao({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ui(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(so.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class uo extends Hr{constructor(){super(Ci(uo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new kr({context:this.context,gain:0}),this._thresh=new ro({context:this.context,mapping:t=>t<=0?-1:1});const t=Ci(uo.getDefaults(),arguments,["frequency","width"]);this.width=new Cr({context:this.context,units:"audioRange",value:t.width}),this._triangle=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ui(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Hr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ho extends Hr{constructor(){super(Ci(ho.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Ci(ho.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ui(this,["frequency","detune"])}static getDefaults(){return Object.assign(so.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,s)=>t.detune.value=e+n*s))}}get count(){return this._oscillators.length}set count(t){if(Js(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new so({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Qi});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class po extends Hr{constructor(){super(Ci(po.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ao({context:this.context,value:2});const t=Ci(po.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new uo({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new so({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ui(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Hr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const fo={am:lo,fat:ho,fm:co,oscillator:so,pulse:uo,pwm:po};class mo extends Hr{constructor(){super(Ci(mo.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Ci(mo.getDefaults(),arguments,["frequency","type"]);this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),Ui(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(so.getDefaults(),co.getDefaults(),lo.getDefaults(),ho.getDefaults(),uo.getDefaults(),po.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=fo[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof fo[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&li(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&li(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&di(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return _i(this,void 0,void 0,(function*(){return eo(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class go extends Cr{constructor(){super(Object.assign(Ci(go.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new kr({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,br(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Cr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class _o extends io{constructor(){super(Object.assign(Ci(_o.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=Ci(_o.getDefaults(),arguments,["min","max"]);this._mult=this.input=new ao({context:this.context,value:t.max-t.min}),this._add=this.output=new go({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(io.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class vo extends io{constructor(){super(Object.assign(Ci(vo.getDefaults(),arguments))),this.name="Zero",this._gain=new kr({context:this.context}),this.output=this._gain,this.input=void 0,wr(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),xr(this.context.getConstant(0),this._gain),this}}class yo extends yr{constructor(){super(Ci(yo.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=vr.prototype._fromType,this._toType=vr.prototype._toType,this._is=vr.prototype._is,this._clampValue=vr.prototype._clampValue;const t=Ci(yo.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new so(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new kr({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Cr({context:this.context,units:"audioRange",value:0}),this._zeros=new vo({context:this.context}),this._a2g=new oo({context:this.context}),this._scaler=this.output=new _o({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ui(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(so.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof vr||t instanceof Cr)&&(this.convert=t.convert,this.units=t.units),Er(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function bo(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Js(s,t,e),n.set(this,s)}})}}function wo(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Js(this.toSeconds(s),t,e),n.set(this,s)}})}}class xo extends Hr{constructor(){super(Ci(xo.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Ci(xo.getDefaults(),arguments,["url","onload"]);this._buffer=new $i({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Hr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Qi,onerror:Qi,playbackRate:1,reverse:!1})}load(t){return _i(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Qi){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?Ei(e,this._loopStart):Ei(e,0);const s=this.toSeconds(e),i=n;n=Ei(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,t=this.toSeconds(t);const o=new Yr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+r),this._state.setStateAtTime("stopped",t+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&ri(i)?o.start(t,s):o.start(t,s,r-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Js(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Js(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}gi([wo(0)],xo.prototype,"fadeIn",void 0),gi([wo(0)],xo.prototype,"fadeOut",void 0);class ko extends yr{constructor(){super(Ci(ko.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=Ci(ko.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Br({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,"volume"),this._buffers=new Fr({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Hr.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Qi,onerror:Qi,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach((e=>{e.fadeIn=t}))}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach((e=>{e.fadeOut=t}))}get state(){return Array.from(this._players).some((([t,e])=>"started"===e.state))?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(Ks(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new xo({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return Ks(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach((e=>e.stop(t))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((t=>t.dispose())),this._buffers.dispose(),this}}class So extends Hr{constructor(){super(Ci(So.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=Ci(So.getDefaults(),arguments,["url","onload"]);this.buffer=new $i({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new Mr({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(Hr.getDefaults(),{onload:Qi,onerror:Qi,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=Ei(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const s=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/s),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach((e=>{e.fadeOut=0,e.stop(t)})),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const s=n<this._overlap?0:this._overlap,i=new Yr({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:nr(this.detune/100)}).connect(this.output);i.start(t,this._grainSize*e),i.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){Js(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&Js(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&Js(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);Js(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((t=>t.dispose())),this}}class To extends io{constructor(){super(...arguments),this.name="Abs",this._abs=new ro({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Co extends io{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new ro({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Eo extends io{constructor(){super(...arguments),this.name="Negate",this._multiply=new ao({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Ao extends Cr{constructor(){super(Object.assign(Ci(Ao.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new kr({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Eo({context:this.context}),this.subtrahend=this._param,br(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Cr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Oo extends io{constructor(){super(Object.assign(Ci(Oo.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new ro({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new ao({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Do extends Cr{constructor(){super(Object.assign(Ci(Do.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=Ci(Do.getDefaults(),arguments,["value"]);this._subtract=this.input=new Ao({context:this.context,value:t.value}),this._gtz=this.output=new Oo({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ui(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Cr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Mo extends io{constructor(){super(Object.assign(Ci(Mo.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Ci(Mo.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new ro({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(io.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ro extends _o{constructor(){super(Object.assign(Ci(Ro.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=Ci(Ro.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Mo({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(_o.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class No extends Cr{constructor(){super(Ci(Cr.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=Ci(Cr.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Tr({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new fr(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new fr(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new fr(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new fr(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const s=new fr(this.context,e).toSeconds();return super.setTargetAtTime(t,s,n),this}cancelScheduledValues(t){const e=new fr(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,s){const i=new fr(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,i,n,s),this}cancelAndHoldAtTime(t){const e=new fr(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new fr(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const s=new fr(this.context,n).toSeconds();return super.exponentialRampTo(t,e,s),this}linearRampTo(t,e,n){const s=new fr(this.context,n).toSeconds();return super.linearRampTo(t,e,s),this}targetRampTo(t,e,n){const s=new fr(this.context,n).toSeconds();return super.targetRampTo(t,e,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Fo extends yr{constructor(){super(Ci(Fo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Cr({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Ci(Fo.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(yr.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(di(t))return t;{let n;for(n in Io)if(Io[n][e]===t)return n;return t}}_setCurve(t,e,n){if(di(n)&&Reflect.has(Io,n)){const s=Io[n];ci(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!hi(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ks(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0&&(n=(1-i)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=i&&i<=s[t]){s=this._attackCurve.slice(t),s[0]=i;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const i=e*this.sustain,r=t+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,s+r):this._sig.exponentialApproachValueAtTime(i,r,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Ks(hi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Er(this,t,e,n),this}asArray(t=1024){return _i(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Hi(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,o=i+r,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+r)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}gi([wo(0)],Fo.prototype,"attack",void 0),gi([wo(0)],Fo.prototype,"decay",void 0),gi([bo(0,1)],Fo.prototype,"sustain",void 0),gi([wo(0)],Fo.prototype,"release",void 0);const Io=(()=>{const t=128;let e,n;const s=[];for(e=0;e<t;e++)s[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const r=[];for(e=0;e<t;e++)r[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,s=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(s*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:s,Out:(c=s,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:r,Out:l(r)}};var c})();class Po extends yr{constructor(){super(Ci(Po.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Ci(Po.getDefaults(),arguments);this._volume=this.output=new Br({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,"volume")}static getDefaults(){return Object.assign(yr.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=t[e],i=this.context.transport.schedule((s=>{t[e]=s,n.apply(this,t)}),s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n),r=this.toSeconds(e);return this.triggerAttack(t,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class qo extends Po{constructor(){super(Ci(qo.getDefaults(),arguments));const t=Ci(qo.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Po.getDefaults(),{detune:0,onsilence:Qi,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof ur?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}gi([wo(0)],qo.prototype,"portamento",void 0);class Vo extends Fo{constructor(){super(Ci(Vo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new kr({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Lo extends qo{constructor(){super(Ci(Lo.getDefaults(),arguments)),this.name="Synth";const t=Ci(Lo.getDefaults(),arguments);this.oscillator=new mo(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Vo(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ui(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(qo.getDefaults(),{envelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ai(mo.getDefaults(),[...Object.keys(Hr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class zo extends qo{constructor(){super(Ci(zo.getDefaults(),arguments)),this.name="ModulationSynth";const t=Ci(zo.getDefaults(),arguments);this._carrier=new Lo({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Lo({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Cr({context:this.context,units:"frequency"}),this.detune=new Cr({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new ao({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new kr({context:this.context,gain:0}),Ui(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(qo.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ai(mo.getDefaults(),[...Object.keys(Hr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ai(mo.getDefaults(),[...Object.keys(Hr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class jo extends zo{constructor(){super(Ci(jo.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new oo({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Bo extends yr{constructor(){super(Ci(Bo.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=Ci(Bo.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new vr({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new vr({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new vr({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new vr({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(yr.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Ks(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Wo extends yr{constructor(){super(Ci(Wo.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this._filters=[];const t=Ci(Wo.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Cr({context:this.context,units:"positive",value:t.Q}),this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),this.gain=new Cr({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ui(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(yr.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Ks(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=li(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let s=n.indexOf(e);Ks(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(s);for(let t=0;t<s;t++){const e=new Bo({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,br(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Bo({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),Gi(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Uo extends Fo{constructor(){super(Ci(Uo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=Ci(Uo.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Mo({context:this.context,value:t.exponent}),this._scale=this.output=new _o({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Fo.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);Js(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Go extends qo{constructor(){super(Ci(Go.getDefaults(),arguments)),this.name="MonoSynth";const t=Ci(Go.getDefaults(),arguments);this.oscillator=new mo(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Wo(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Uo(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new Vo(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ui(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(qo.getDefaults(),{envelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ai(Wo.getDefaults(),Object.keys(yr.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ai(Uo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ai(mo.getDefaults(),Object.keys(Hr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Qo extends qo{constructor(){super(Ci(Qo.getDefaults(),arguments)),this.name="DuoSynth";const t=Ci(Qo.getDefaults(),arguments);this.voice0=new Go(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Go(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new ao({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new yo({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new kr({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Cr({context:this.context,units:"frequency",value:440}),this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ui(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Ti(qo.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ti(Ai(Go.getDefaults(),Object.keys(qo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ti(Ai(Go.getDefaults(),Object.keys(qo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class $o extends zo{constructor(){super(Ci($o.getDefaults(),arguments)),this.name="FMSynth";const t=Ci($o.getDefaults(),arguments);this.modulationIndex=new ao({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(zo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Ho=[1,1.483,1.932,2.546,2.63,3.897];class Yo extends qo{constructor(){super(Ci(Yo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=Ci(Yo.getDefaults(),arguments);this.detune=new Cr({context:this.context,units:"cents",value:t.detune}),this.frequency=new Cr({context:this.context,units:"frequency"}),this._amplitude=new kr({context:this.context,gain:0}).connect(this.output),this._highpass=new Wo({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<Ho.length;e++){const n=new co({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):Qi,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const s=new ao({context:this.context,value:Ho[e]});this._freqMultipliers[e]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new _o({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Fo({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Ti(qo.getDefaults(),{envelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Zo extends Lo{constructor(){super(Ci(Zo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Ci(Zo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ui(this,["oscillator","envelope"])}static getDefaults(){return Ti(qo.getDefaults(),Lo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof ur?t.toFrequency():t),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}gi([bo(0)],Zo.prototype,"octaves",void 0),gi([wo(0)],Zo.prototype,"pitchDecay",void 0);class Xo extends Po{constructor(){super(Ci(Xo.getDefaults(),arguments)),this.name="NoiseSynth";const t=Ci(Xo.getDefaults(),arguments);this.noise=new Zr(Object.assign({context:this.context},t.noise)),this.envelope=new Vo(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Po.getDefaults(),{envelope:Object.assign(Ai(Fo.getDefaults(),Object.keys(yr.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ai(Zr.getDefaults(),Object.keys(Hr.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Ko=new Set;function Jo(t){Ko.add(t)}function ta(t,e){const n=`registerProcessor("${t}", ${e})`;Ko.add(n)}class ea extends yr{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Qi;const e=URL.createObjectURL(new Blob([Array.from(Ko).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}Jo('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Jo("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Jo("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const na="feedback-comb-filter";ta(na,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class sa extends ea{constructor(){super(Ci(sa.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=Ci(sa.getDefaults(),arguments,["delayTime","resonance"]);this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this.delayTime=new vr({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new vr({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Ui(this,["resonance","delayTime"])}_audioWorkletName(){return na}static getDefaults(){return Object.assign(yr.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){br(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class ia extends yr{constructor(){super(Ci(ia.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=Ci(ia.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(yr.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(t),t.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class ra extends yr{constructor(){super(Ci(ra.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=Ci(ra.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new sa({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new ia({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(yr.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class oa extends Po{constructor(){super(Ci(oa.getDefaults(),arguments)),this.name="PluckSynth";const t=Ci(oa.getDefaults(),arguments);this._noise=new Zr({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new ra({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ti(Po.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,e),this._noise.start(e),this._noise.stop(e+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class aa extends Po{constructor(){super(Ci(aa.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Ci(aa.getDefaults(),arguments,["voice","options"]);Ks(!li(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Po.getDefaults(),{maxPolyphony:32,options:{},voice:Lo})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}ii("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const s=new Ir(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new Ir(this.context,t).toMidi(),s=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));s&&(s.voice.triggerRelease(e),s.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,s){Ks(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,s):this._triggerRelease(e,n):this.context.setTimeout((()=>{this._scheduleEvent(t,e,n,s)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent("attack",t,s,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n);if(this.triggerAttack(t,i,s),hi(e)){Ks(hi(t),"If the duration is an array, the notes must also be an array");for(let n=0;n<t.length;n++){const s=e[Math.min(n,e.length-1)],r=this.toSeconds(s);Ks(r>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+r)}}else{const n=this.toSeconds(e);Ks(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=Ai(t,["onsilence","context"]);return this.options=Ti(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class la extends Po{constructor(){super(Ci(la.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Ci(la.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const s=parseInt(n,10);if(Ks(pi(n)||li(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),pi(n)){const s=new ur(this.context,n).toMidi();e[s]=t.urls[n]}else li(s)&&isFinite(s)&&(e[s]=t.urls[s])})),this._buffers=new Fr({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Po.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Qi,onerror:Qi,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const s=rr(new ur(this.context,t).toFrequency()),i=Math.round(s),r=s-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),c=nr(o+r),u=new Yr({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(e,0,l.duration/c,n),hi(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new ur(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,s),hi(e)?(Ks(hi(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(s))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(Ks(pi(t)||isFinite(t),`note must be a pitch or midi: ${t}`),pi(t)){const s=new ur(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}gi([wo(0)],la.prototype,"attack",void 0),gi([wo(0)],la.prototype,"release",void 0);class ca extends gr{constructor(){super(Ci(ca.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new _r("stopped"),this._startOffset=0;const t=Ci(ca.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(gr.getDefaults(),{callback:Qi,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||li(this._loop)&&this._loop>1){e=1/0,li(this._loop)&&(e=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new qr(this.context,e));const i=new qr(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new qr(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new qr(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=Ei(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;ui(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new qr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new qr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ua extends gr{constructor(){super(Ci(ua.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=Ci(ua.getDefaults(),arguments,["callback","interval"]);this._event=new ca({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(gr.getDefaults(),{interval:"4n",callback:Qi,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class ha extends ca{constructor(){super(Ci(ha.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new _r("stopped"),this._events=new Set;const t=Ci(ha.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{hi(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(ca.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=Ei(e,this._loop?this._loopStart:0),e=this._loop?Ei(e,this._loopStart):Ei(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new qr(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new qr(this.context,e))):t.startOffset>=n&&t.start(new qr(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new fr(this.context,t).toTicks(),s=new qr(this.context,1).toSeconds(),i=this._events.values();let r=i.next();for(;!r.done;){const t=r.value;if(Math.abs(n-t.startOffset)<s)return oi(e)&&(t.value=e),t;r=i.next()}return oi(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let s;return e instanceof ca?(s=e,s.callback=this._tick.bind(this)):s=new ca({callback:this._tick.bind(this),context:this.context,value:e}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new qr(this.context,e.time))}))}remove(t,e){return ci(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(ri(e)||oi(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof ha?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new qr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new qr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*da(t){let e=0;for(;e<t.length;)e=ma(e,t),yield t[e],e++}function*pa(t){let e=t.length-1;for(;e>=0;)e=ma(e,t),yield t[e],e--}function*fa(t,e){for(;;)yield*e(t)}function ma(t,e){return Ii(t,0,e.length-1)}function*ga(t,e){let n=e?0:t.length-1;for(;;)n=ma(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*_a(t){let e=0,n=0;for(;e<t.length;)e=ma(e,t),yield t[e],n++,e+=n%2?2:-1}function*va(t){let e=t.length-1,n=0;for(;e>=0;)e=ma(e,t),yield t[e],n++,e+=n%2?-2:1}function*ya(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=ma(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[n]}}function*ba(t,e="up",n=0){switch(Ks(t.length>0,"The array must have more than one value in it"),e){case"up":yield*fa(t,da);case"down":yield*fa(t,pa);case"upDown":yield*ga(t,!0);case"downUp":yield*ga(t,!1);case"alternateUp":yield*fa(t,_a);case"alternateDown":yield*fa(t,va);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case"randomOnce":yield*fa(t,ya);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class wa extends ua{constructor(){super(Ci(wa.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=Ci(wa.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=ba(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(ua.getDefaults(),{pattern:"up",values:[],callback:Qi})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=ba(this._values,this._type)}}class xa extends ca{constructor(){super(Ci(xa.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new ha({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=Ci(xa.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Ai(ca.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new qr(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(di(e)&&isFinite(parseInt(e,10))&&hi(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,s)=>{const i=s*e+n;if(hi(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new qr(this.context,i,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new qr(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ka extends yr{constructor(){super(Object.assign(Ci(ka.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Co({context:this.context}),this.a=new kr({context:this.context,gain:0}),this.b=new kr({context:this.context,gain:0}),this.output=new kr({context:this.context}),this._internalChannels=[this.a,this.b];const t=Ci(ka.getDefaults(),arguments,["fade"]);this.fade=new Cr({context:this.context,units:"normalRange",value:t.fade}),Ui(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",wr(this._split,this.a.gain,0),wr(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(yr.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Sa extends yr{constructor(t){super(t),this.name="Effect",this._dryWet=new ka({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new kr({context:this.context}),this.effectReturn=new kr({context:this.context}),this.input=new kr({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ui(this,"wet")}static getDefaults(){return Object.assign(yr.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Ta extends Sa{constructor(t){super(t),this.name="LFOEffect",this._lfo=new yo({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ui(this,["frequency","depth"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ca extends Ta{constructor(){super(Ci(Ca.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=Ci(Ca.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Wo(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Ta.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Ea extends yr{constructor(){super(Object.assign(Ci(Ea.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Ci(Ea.getDefaults(),arguments,["pan"]);this.pan=new vr({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Ui(this,"pan")}static getDefaults(){return Object.assign(yr.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Aa extends Ta{constructor(){super(Ci(Aa.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=Ci(Aa.getDefaults(),arguments,["frequency"]);this._panner=new Ea({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Ta.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Oa extends yr{constructor(){super(Ci(Oa.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=Ci(Oa.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new To({context:this.context}),this._lowpass=this.output=new ia({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(yr.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Da extends Sa{constructor(){super(Ci(Da.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=Ci(Da.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Oa({context:this.context,smoothing:t.follower}),this._sweepRange=new Ro({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new kr({context:this.context}),this._bandpass=new Wo({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Wo({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ui(this,["gain","Q"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return er(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/tr(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const Ma="bit-crusher";ta(Ma,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Ra extends Sa{constructor(){super(Ci(Ra.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=Ci(Ra.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Na({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Sa.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Na extends ea{constructor(){super(Ci(Na.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=Ci(Na.getDefaults(),arguments);this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this.bits=new vr({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ea.getDefaults(),{bits:12})}_audioWorkletName(){return Ma}onReady(t){br(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Fa extends Sa{constructor(){super(Ci(Fa.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=Ci(Fa.getDefaults(),arguments,["order"]);this._shaper=new ro({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Sa.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap((e=>this._getCoefficient(e,t,new Map)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Ia extends yr{constructor(){super(Ci(Ia.getDefaults(),arguments,["channels"])),this.name="Split";const t=Ci(Ia.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(yr.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Pa extends yr{constructor(){super(Ci(Pa.getDefaults(),arguments,["channels"])),this.name="Merge";const t=Ci(Pa.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(yr.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class qa extends yr{constructor(t){super(t),this.name="StereoEffect",this.input=new kr({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new ka({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Ia({context:this.context,channels:2}),this._merge=new Pa({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ui(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),br(...t),wr(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),br(...t),wr(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(yr.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Va extends qa{constructor(t){super(t),this.feedback=new Cr({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new kr({context:this.context}),this._feedbackR=new kr({context:this.context}),this._feedbackSplit=new Ia({context:this.context,channels:2}),this._feedbackMerge=new Pa({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ui(this,["feedback"])}static getDefaults(){return Object.assign(qa.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class La extends Va{constructor(){super(Ci(La.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=Ci(La.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new yo({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new yo({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Rr({context:this.context}),this._delayNodeR=new Rr({context:this.context}),this.frequency=this._lfoL.frequency,Ui(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(Va.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class za extends Sa{constructor(){super(Ci(za.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=Ci(za.getDefaults(),arguments,["distortion"]);this._shaper=new ro({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Sa.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap((t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class ja extends Sa{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new kr({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Ui(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Sa.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ba extends ja{constructor(){super(Ci(Ba.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=Ci(Ba.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Rr({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ui(this,"delayTime")}static getDefaults(){return Object.assign(ja.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Wa extends yr{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this.offset90=new kr({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),br(this.input,...this._bank0,this._oneSampleDelay,this.output),br(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map((t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((t=>t.disconnect())),this._bank1.forEach((t=>t.disconnect())),this._oneSampleDelay.disconnect(),this}}class Ua extends Sa{constructor(){super(Ci(Ua.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=Ci(Ua.getDefaults(),arguments,["frequency"]);this.frequency=new Cr({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new no({context:this.context,type:"sine"}),this._cosine=new so({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new ao({context:this.context}),this._cosineMultiply=new ao({context:this.context}),this._negate=new Eo({context:this.context}),this._add=new go({context:this.context}),this._phaseShifter=new Wa({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(Sa.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Ga=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Qa=[225,556,441,341];class $a extends qa{constructor(){super(Ci($a.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=Ci($a.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Cr({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=Qa.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._allpassFiltersR=Qa.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._combFilters=Ga.map(((e,n)=>{const s=new ra({context:this.context,dampening:t.dampening,delayTime:e});return n<Ga.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),Ui(this,["roomSize"])}static getDefaults(){return Object.assign(qa.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach((e=>e.dampening=t))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((t=>t.disconnect())),this._allpassFiltersR.forEach((t=>t.disconnect())),this._combFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this}}const Ha=[.06748,.06404,.08212,.09004],Ya=[.773,.802,.753,.733],Za=[347,113,37];class Xa extends qa{constructor(){super(Ci(Xa.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=Ci(Xa.getDefaults(),arguments,["roomSize"]);this.roomSize=new Cr({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new _o({context:this.context,min:-.733,max:.197}),this._allpassFilters=Za.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._feedbackCombFilters=Ha.map(((t,e)=>{const n=new sa({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=Ya[e],e<Ha.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Ui(this,["roomSize"])}static getDefaults(){return Object.assign(qa.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((t=>t.disconnect())),this._feedbackCombFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Ka extends Va{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ui(this,["feedback"])}}class Ja extends Ka{constructor(){super(Ci(Ja.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=Ci(Ja.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Rr({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Rr({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Rr({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Cr({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ui(this,["delayTime"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class tl extends ja{constructor(){super(Ci(tl.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=Ci(tl.getDefaults(),arguments,["pitch"]);this._frequency=new Cr({context:this.context}),this._delayA=new Rr({maxDelay:1,context:this.context}),this._lfoA=new yo({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Rr({maxDelay:1,context:this.context}),this._lfoB=new yo({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new ka({context:this.context}),this._crossFadeLFO=new yo({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Rr({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ui(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(ja.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=nr(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=nr(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class el extends qa{constructor(){super(Ci(el.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=Ci(el.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new yo({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new yo({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Cr({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ui(this,["frequency","Q"])}static getDefaults(){return Object.assign(qa.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let s=0;s<t;s++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((t=>t.disconnect())),this._filtersR.forEach((t=>t.disconnect())),this.frequency.dispose(),this}}class nl extends Sa{constructor(){super(Ci(nl.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=Ci(nl.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Sa.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Js(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Js(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return _i(this,void 0,void 0,(function*(){const t=this.ready,e=new Hi(2,this._decay+this._preDelay,this.context.sampleRate),n=new Zr({context:e}),s=new Zr({context:e}),i=new Pa({context:e});n.connect(i,0,0),s.connect(i,0,1);const r=new kr({context:e}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(Qi),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class sl extends yr{constructor(){super(Ci(sl.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Ia({channels:2,context:this.context}),this._midAdd=new go({context:this.context}),this.mid=new ao({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Ao({context:this.context}),this.side=new ao({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class il extends yr{constructor(){super(Ci(il.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new kr({context:this.context}),this.side=new kr({context:this.context}),this._left=new go({context:this.context}),this._leftMult=new ao({context:this.context,value:Math.SQRT1_2}),this._right=new Ao({context:this.context}),this._rightMult=new ao({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Pa({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class rl extends Sa{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new il({context:this.context}),this._midSideSplit=new sl({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class ol extends rl{constructor(){super(Ci(ol.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=Ci(ol.getDefaults(),arguments,["width"]);this.width=new Cr({context:this.context,value:t.width,units:"normalRange"}),Ui(this,["width"]),this._twoTimesWidthMid=new ao({context:this.context,value:2}),this._twoTimesWidthSide=new ao({context:this.context,value:2}),this._midMult=new ao({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Ao({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),wr(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new ao({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(rl.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class al extends qa{constructor(){super(Ci(al.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=Ci(al.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new yo({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new yo({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new kr({context:this.context}),this._amplitudeR=new kr({context:this.context}),this.frequency=new Cr({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new Cr({context:this.context,value:t.depth,units:"normalRange"}),Ui(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(qa.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ll extends Sa{constructor(){super(Ci(ll.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=Ci(ll.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Rr({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new yo({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ui(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Sa.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class cl extends yr{constructor(){super(Ci(cl.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=Ci(cl.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new kr({context:this.context}),this._split=new Ia({context:this.context,channels:t.channels}),this.input.connect(this._split),Js(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(yr.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Ks("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class ul extends yr{constructor(){super(Ci(ul.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new cl({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class hl extends ul{constructor(){super(Ci(hl.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=Ci(hl.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new cl({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(ul.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return ii("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map((t=>{const e=t.reduce(((t,e)=>t+e*e),0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:er(this._rms)}));return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class dl extends ul{constructor(){super(Ci(dl.getDefaults(),arguments,["size"])),this.name="FFT";const t=Ci(dl.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(yr.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?tr(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Ks(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class pl extends ul{constructor(){super(Ci(pl.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class fl extends ul{constructor(){super(Ci(fl.getDefaults(),arguments,["size"])),this.name="Waveform";const t=Ci(fl.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(ul.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class ml extends yr{constructor(){super(Ci(ml.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Ci(ml.getDefaults(),arguments,["solo"]);this.input=this.output=new kr({context:this.context}),ml._allSolos.has(this.context)||ml._allSolos.set(this.context,new Set),ml._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(yr.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),ml._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){ml._soloed.has(this.context)||ml._soloed.set(this.context,new Set),ml._soloed.get(this.context).add(this)}_removeSolo(){ml._soloed.has(this.context)&&ml._soloed.get(this.context).delete(this)}_isSoloed(){return ml._soloed.has(this.context)&&ml._soloed.get(this.context).has(this)}_noSolos(){return!ml._soloed.has(this.context)||ml._soloed.has(this.context)&&0===ml._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ml._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ml._allSolos=new Map,ml._soloed=new Map;class gl extends yr{constructor(){super(Ci(gl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Ci(gl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ea({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Br({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ui(this,["pan","volume"])}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _l extends yr{constructor(){super(Ci(_l.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Ci(_l.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new ml({solo:t.solo,context:this.context}),this._panVol=this.output=new gl({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ui(this,["pan","volume"])}static getDefaults(){return Object.assign(yr.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return _l.buses.has(t)||_l.buses.set(t,new kr({context:this.context})),_l.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new kr({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_l.buses=new Map;class vl extends yr{constructor(){super(Ci(vl.getDefaults(),arguments)),this.name="Mono",this.input=new kr({context:this.context}),this._merge=this.output=new Pa({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class yl extends yr{constructor(){super(Ci(yl.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new kr({context:this.context}),this.output=void 0,this.low=new Wo({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Wo({context:this.context,frequency:0,type:"highpass"}),this.mid=new Wo({context:this.context,frequency:0,type:"lowpass"}),this.high=new Wo({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=Ci(yl.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Cr({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new Cr({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new Cr({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ui(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(yr.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Gi(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class bl extends yr{constructor(){super(...arguments),this.name="Listener",this.positionX=new vr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new vr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new vr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new vr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new vr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new vr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new vr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new vr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new vr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(yr.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Vi((t=>{t.listener=new bl({context:t})})),zi((t=>{t.listener.dispose()}));class wl extends yr{constructor(){super(Ci(wl.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=Ci(wl.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new vr({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new vr({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new vr({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new vr({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new vr({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new vr({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(yr.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class xl extends yr{constructor(){super(Ci(xl.getDefaults(),arguments)),this.name="Recorder";const t=Ci(xl.getDefaults(),arguments);this.input=new kr({context:this.context}),Ks(xl.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return yr.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==fi&&Reflect.has(fi,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return _i(this,void 0,void 0,(function*(){Ks("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return _i(this,void 0,void 0,(function*(){Ks("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return Ks("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class kl extends yr{constructor(){super(Ci(kl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=Ci(kl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new vr({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new vr({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new vr({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new vr({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new vr({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Ui(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(yr.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Sl extends yr{constructor(){super(Object.assign(Ci(Sl.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=Ci(Sl.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Oa({context:this.context,smoothing:t.smoothing}),this._gt=new Do({context:this.context,value:tr(t.threshold)}),this.input=new kr({context:this.context}),this._gate=this.output=new kr({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(yr.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return er(this._gt.value)}set threshold(t){this._gt.value=tr(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Tl extends yr{constructor(){super(Object.assign(Ci(Tl.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=Ci(Tl.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new kl({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ui(this,"threshold")}static getDefaults(){return Object.assign(yr.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Cl extends yr{constructor(){super(Object.assign(Ci(Cl.getDefaults(),arguments))),this.name="MidSideCompressor";const t=Ci(Cl.getDefaults(),arguments);this._midSideSplit=this.input=new sl({context:this.context}),this._midSideMerge=this.output=new il({context:this.context}),this.mid=new kl(Object.assign(t.mid,{context:this.context})),this.side=new kl(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ui(this,["mid","side"])}static getDefaults(){return Object.assign(yr.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class El extends yr{constructor(){super(Object.assign(Ci(El.getDefaults(),arguments))),this.name="MultibandCompressor";const t=Ci(El.getDefaults(),arguments);this._splitter=this.input=new yl({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new kr({context:this.context}),this.low=new kl(Object.assign(t.low,{context:this.context})),this.mid=new kl(Object.assign(t.mid,{context:this.context})),this.high=new kl(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ui(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(yr.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Al extends yr{constructor(){super(Ci(Al.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new kr({context:this.context}),this._internalChannels=[];const t=Ci(Al.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new yl({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new kr({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new kr({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new kr({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ui(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(yr.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Gi(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Ol extends yr{constructor(){super(Ci(Ol.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=Ci(Ol.getDefaults(),arguments,["url","onload"]);this._buffer=new $i(t.url,(e=>{this.buffer=e,t.onload()})),this.input=new kr({context:this.context}),this.output=new kr({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(yr.getDefaults(),{normalize:!0,onload:Qi})}load(t){return _i(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Dl(){return Xi().now()}function Ml(){return Xi().immediate()}const Rl=Xi().transport;function Nl(){return Xi().transport}const Fl=Xi().destination,Il=Xi().destination;function Pl(){return Xi().destination}const ql=Xi().listener;function Vl(){return Xi().listener}const Ll=Xi().draw;function zl(){return Xi().draw}const jl=Xi();function Bl(){return $i.loaded()}const Wl=$i,Ul=Fr,Gl=Yr;function Ql(t){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(t)}function $l(){$l=function(){return e};var t,e={},n=Object.prototype,s=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,s){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),a=new D(s||[]);return i(o,"_invoke",{value:C(t,n,a)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function _(){}function v(){}function y(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(M([])));x&&x!==n&&s.call(x,o)&&(b=x);var k=y.prototype=_.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,r,o,a){var l=h(t[i],t,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Ql(u)&&s.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,a)}))}a(l.arg)}var r;i(this,"_invoke",{value:function(t,s){function i(){return new e((function(e,i){n(t,s,e,i)}))}return r=r?r.then(i,i):i()}})}function C(e,n,s){var i=d;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===m){if("throw"===r)throw o;return{value:t,done:!0}}for(s.method=r,s.arg=o;;){var a=s.delegate;if(a){var l=E(a,s);if(l){if(l===g)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(i===d)throw i=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);i=f;var c=h(e,n,s);if("normal"===c.type){if(i=s.done?m:p,c.arg===g)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(i=m,s.method="throw",s.arg=c.arg)}}}function E(e,n){var s=n.method,i=e.iterator[s];if(i===t)return n.delegate=null,"throw"===s&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==s&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+s+"' method")),g;var r=h(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(s.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(Ql(e)+" is not iterable")}return v.prototype=y,i(k,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(T.prototype),c(T.prototype,a,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,s,i,r){void 0===r&&(r=Promise);var o=new T(u(t,n,s,i),r);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(k),c(k,l,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var s in e)n.push(s);return n.reverse(),function t(){for(;n.length;){var s=n.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=M,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(s,i){return a.type="throw",a.arg=e,n.next=s,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var s=n.completion;if("throw"===s.type){var i=s.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,s){return this.delegate={iterator:M(e),resultName:n,nextLoc:s},"next"===this.method&&(this.arg=t),g}},e}function Hl(t,e,n,s,i,r,o){try{var a=t[r](o),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(s,i)}function Yl(t){return function(){var e=this,n=arguments;return new Promise((function(s,i){var r=t.apply(e,n);function o(t){Hl(r,s,i,o,a,"next",t)}function a(t){Hl(r,s,i,o,a,"throw",t)}o(void 0)}))}}var Zl,Xl,Kl=xo,Jl=Ji,tc=Xi,ec=Wl,nc={},sc={},ic=function(){var t=Yl($l().mark((function t(e,n){return $l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ec.fromUrl(n);case 3:sc[e]=t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Error loading audio for ".concat(e,":"),t.t0),new Error("Error loading audio for ".concat(e,": ").concat(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),rc=function(){var t=Yl($l().mark((function t(e){return $l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jl();case 3:if("suspended"!==tc().state){t.next=6;break}return t.next=6,tc().resume();case 6:return Xl=new Wo(60,"highpass"),Zl=new nl(4),t.next=10,Zl.generate();case 10:!nc[e]&&sc[e]?(nc[e]=new Kl(sc[e]),nc[e].playbackRate=1,"endGong"===e?nc[e].toDestination():(nc[e].connect(Xl),Xl.connect(Zl),Zl.toDestination())):sc[e]||console.error("Audio buffer for ".concat(e," is not loaded.")),t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Error initializing audio for ".concat(e,":"),t.t0),new Error("Error initializing audio for ".concat(e,": ").concat(t.t0.message));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),oc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return nc[t]?"running"!==Xi().state?void console.warn("Tone context is not in 'running' state."):(nc[t].playbackRate=e,nc[t].start(),n&&(nc[t].onended=n),nc[t]):(console.error("Sample ".concat(t," not loaded or player not initialized")),null)};const ac=function(t){var e=t.onTimeSelect,n=t.selectedTime;return i.createElement("div",{className:"h-screen w-64 fixed top-0 left-0 bg-ter"},i.createElement("div",{className:"py-4 px-3"},i.createElement("h1",{className:"text-2xl font-bold text-main"},"Zen Time")),i.createElement("div",{className:"py-2 px-3"},i.createElement("h2",{className:"text-2xl font-bold text-sec"},"Time")),i.createElement(i.Fragment,null,i.createElement("ul",{className:"space-y-2 pl-1"},[1,5,15,30,45].map((function(t){return i.createElement("li",{key:t},i.createElement("button",{className:"ml-2 pr-6 pl-2 py-1 rounded bg-ter text-sec border-2\n                            ".concat(n===t?"outline-none border-sec":"border-transparent","\n                            hover:border-sec"),onClick:function(){return e(t)}},t," min"))})))),i.createElement("div",{className:"py-2 px-3 mt-1"},i.createElement("h2",{className:"text-2xl font-bold text-sec"},"Sounds")),i.createElement(i.Fragment,null,i.createElement("ul",{className:"space-y-2 pl-1"},i.createElement("li",null,i.createElement("button",{className:"ml-2 pr-6 pl-2 py-1 rounded bg-ter text-sec"},"Rhythm")),i.createElement("li",null,i.createElement("button",{className:"ml-2 pr-6 pl-2 py-1 rounded bg-ter text-sec"},"Breath")))),i.createElement(w,{onChange:function(t){console.log("Received in Navbar:",t),function(t){Fl.volume.value=t}(t)},value:-1}))};function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}function cc(){cc=function(){return e};var t,e={},n=Object.prototype,s=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,s){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),a=new D(s||[]);return i(o,"_invoke",{value:C(t,n,a)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function _(){}function v(){}function y(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(M([])));x&&x!==n&&s.call(x,o)&&(b=x);var k=y.prototype=_.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,r,o,a){var l=h(t[i],t,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==lc(u)&&s.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,a)}))}a(l.arg)}var r;i(this,"_invoke",{value:function(t,s){function i(){return new e((function(e,i){n(t,s,e,i)}))}return r=r?r.then(i,i):i()}})}function C(e,n,s){var i=d;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===m){if("throw"===r)throw o;return{value:t,done:!0}}for(s.method=r,s.arg=o;;){var a=s.delegate;if(a){var l=E(a,s);if(l){if(l===g)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(i===d)throw i=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);i=f;var c=h(e,n,s);if("normal"===c.type){if(i=s.done?m:p,c.arg===g)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(i=m,s.method="throw",s.arg=c.arg)}}}function E(e,n){var s=n.method,i=e.iterator[s];if(i===t)return n.delegate=null,"throw"===s&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==s&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+s+"' method")),g;var r=h(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(s.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(lc(e)+" is not iterable")}return v.prototype=y,i(k,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(T.prototype),c(T.prototype,a,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,s,i,r){void 0===r&&(r=Promise);var o=new T(u(t,n,s,i),r);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(k),c(k,l,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var s in e)n.push(s);return n.reverse(),function t(){for(;n.length;){var s=n.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=M,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(s,i){return a.type="throw",a.arg=e,n.next=s,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var s=n.completion;if("throw"===s.type){var i=s.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,s){return this.delegate={iterator:M(e),resultName:n,nextLoc:s},"next"===this.method&&(this.arg=t),g}},e}function uc(t,e,n,s,i,r,o){try{var a=t[r](o),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(s,i)}function hc(t){return function(){var e=this,n=arguments;return new Promise((function(s,i){var r=t.apply(e,n);function o(t){uc(r,s,i,o,a,"next",t)}function a(t){uc(r,s,i,o,a,"throw",t)}o(void 0)}))}}function dc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r,o,a=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}const fc=function(t){var e=t.selectedTime,n=dc((0,i.useState)(60*e),2),r=n[0],o=n[1],a=dc((0,i.useState)(!1),2),l=a[0],c=a[1],u=dc((0,i.useState)(!1),2),h=u[0],d=u[1],p=dc((0,i.useState)(!1),2),f=p[0],m=p[1],g=dc((0,i.useState)(30),2),_=g[0],v=g[1],y=dc((0,i.useState)(0),2),b=y[0],w=y[1],x=dc((0,i.useState)(100),2),k=x[0],S=x[1],T=["breath-1","breath-2","breath-3","breath-4"],C=["ZT-sha-L","ZT-sha-R"],E=(0,i.useRef)(0),A=(0,i.useRef)(0),O=(0,i.useRef)(null),D=(0,i.useRef)(null),M=(0,i.useRef)(null),R=function(t){return t/30},N=function(){var t=_,n=60*e,s=10/n,i=n/2*1e3,r=k,o=(6e3-r)/(n/2),a=b,l=1/n;M.current=setInterval((function(){var e;setTimeout((function(){S((function(t){return(r=t+o)>=6e3?(clearInterval(M.current),6e3):r}))}),i),w((function(t){return(a=t+l)>=1?(clearInterval(M.current),1):a})),v((function(e){return(t=e-s)<=10?(clearInterval(M.current),10):t})),console.log("filterIncrease: ",o),console.log("currentFilter: ",r),e=r,Xl?Xl.frequency.rampTo(e,10):console.error("Highpass filter not initialized"),console.log("wetLevel: ",a),function(t){Zl?Zl.wet.value=Math.min(Math.max(t,0),1):console.error("Reverb not initialized")}(a),Rl.bpm.setValueAtTime(t,Rl.seconds)}),1e3)},F=function(){var t,e;null===(t=O.current)||void 0===t||t.stop(0),null===(e=D.current)||void 0===e||e.stop(0),E.current=0,A.current=0},I=function(){O.current&&(O.current.stop(0),O.current.dispose(),O.current=null),D.current&&(D.current.stop(0),D.current.dispose(),D.current=null),E.current=0,A.current=0},P=function(){var t=hc(cc().mark((function t(){var e;return cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s||!jl||"running"===jl.state){t.next=10;break}return t.prev=1,t.next=4,jl.resume();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),console.error("Failed to resume the Tone audio context:",t.t0),t.abrupt("return");case 10:if(c(!l),l){t.next=20;break}return N(),Rl.bpm.setValueAtTime(_,0),oc("startGong"),e=setTimeout((function(){return O.current=new ua((function(t){var e=R(_);oc(T[E.current],e),E.current=(E.current+1)%T.length}),"2n").start(),void(D.current=new ua((function(t){var e=R(_);oc(C[A.current],e),A.current=(A.current+1)%C.length}),"8n").start())}),2e3),Rl.start(),t.abrupt("return",(function(){return clearTimeout(e)}));case 20:clearInterval(M.current),F(),Rl.stop();case 23:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){o(60*e)}),[e]),(0,i.useEffect)((function(){var t=function(){var t=hc(cc().mark((function t(){return cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ic("startGong","/samples/ZT-start-gong.mp3");case 3:return t.next=5,ic("endGong","/samples/ZT-end-gong.mp3");case 5:return t.next=7,ic("breath-1","/samples/breath-1.mp3");case 7:return t.next=9,ic("breath-2","/samples/breath-2.mp3");case 9:return t.next=11,ic("breath-3","/samples/breath-3.mp3");case 11:return t.next=13,ic("breath-4","/samples/breath-4.mp3");case 13:return t.next=15,ic("ZT-sha-L","/samples/ZT-sha-L.mp3");case 15:return t.next=17,ic("ZT-sha-R","/samples/ZT-sha-R.mp3");case 17:d(!0),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.error("Failed to load audio:",t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,i.useEffect)((function(){var t;return l&&r>0?t=setInterval((function(){o((function(t){return t-1}))}),1e3):c(!1),function(){return clearInterval(t)}}),[l,r]),(0,i.useEffect)((function(){return function(){clearInterval(M.current)}}),[]),(0,i.useEffect)((function(){4===r&&I()}),[r]),(0,i.useEffect)((function(){if(0===r){oc("endGong",1),I(),clearInterval(M.current);var t=setTimeout((function(){c(!1),o(60*e),v(30),S(60),w(0)}),1e4);return function(){return clearTimeout(t)}}}),[r]),i.createElement("div",{className:"flex-1 ml-64 bg-dark flex items-center justify-center"},i.createElement("div",{className:"text-center"},f?i.createElement(i.Fragment,null,i.createElement("div",{className:"text-9xl mb-4 text-main"},i.createElement("h1",null,"".concat(Math.floor(r/60),":").concat(r%60<10?"0":"").concat(r%60))),i.createElement("button",{onClick:P,className:"mr-4 bg-sec hover:bg-ter text-ter hover:text-sec px-4 py-2 rounded"},l?"Pause":"Start"),i.createElement("button",{onClick:function(){c(!1),o(60*e),F(),clearInterval(M.current),v(30),S(60),w(0),Rl.stop()},className:"bg-ter hover:bg-sec text-sec hover:text-ter px-4 py-2 rounded"},"Reset"),i.createElement("p",{className:"px-4 text-sec"},_)):i.createElement(i.Fragment,null,i.createElement("div",{className:"text-9xl mb-6"},i.createElement("h1",{className:"text-main"},"WELCOME"),i.createElement("div",{className:"text-sec text-base"},i.createElement("p",null,"Zen Time is a meditation timer with sound.",i.createElement("br",null),"First select the prevered time you want to meditate.",i.createElement("br",null),'When you press "Start", the the timer will start counting down.',i.createElement("br",null),"You'll hear sounds that will guide you in your meditation.",i.createElement("br",null),"They will help you calm down, drift off.",i.createElement("br",null),"Over time te sounds slow down and seem to become more distant.",i.createElement("br",null))),i.createElement("h2",{className:"text-main text-base"},"I hope you enjoy 🙏")),i.createElement("button",{onClick:function(){Promise.all([rc("startGong"),rc("endGong"),rc("breath-1"),rc("breath-2"),rc("breath-3"),rc("breath-4"),rc("ZT-sha-L"),rc("ZT-sha-R")]).then((function(){return m(!0)})).catch((function(t){return console.error("Failed to initialize audio:",t)}))},className:"bg-ter hover:bg-sec text-sec hover:text-ter px-4 py-2 rounded"},"Get ready to start"),!h&&i.createElement("p",null,"Loading audio..."))))};function mc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r,o,a=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}const _c=function(){var t=mc((0,i.useState)(1),2),e=t[0],n=t[1],s=mc((0,i.useState)(-12),2),r=s[0],o=s[1];return i.createElement("div",{className:"flex h-screen"},i.createElement(ac,{onTimeSelect:function(t){n(t)},selectedTime:e,globalVolume:r,handleGlobalVolumeChange:function(t){var e=t.target.value;o(e)}}),i.createElement(fc,{selectedTime:e}))};r.render(i.createElement(_c,null),document.getElementById("root"))})()})();